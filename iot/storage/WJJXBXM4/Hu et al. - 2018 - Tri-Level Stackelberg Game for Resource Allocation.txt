Tri-level Stackelberg Game for Resource Allocation in Radio Access Network Slicing

Jingzhi Hu, Zijie Zheng, Boya Di, and Lingyang Song School of Electronics Engineering and Computer Science, Peking University, China.

Abstractâ€”In this paper, we consider a three-level hierarchical structure for resource allocation in the radio access network (RAN) slicing. The infrastructure provider (InP) allocates the RAN slices to the mobile virtual network operators (MVNOs), and the MVNOs then allocate the radio resources to the users. It is challenging for the InP to determine resource allocation strategy efï¬ciently due to the selï¬sh strategic responses of both the MVNOs and the users. To handle this issue, we propose a tri-level Stackelberg game to jointly solve the frequency and power allocation and payment negotiation problem among the three levels. Simulation results verify a general market principle that the more the MVNOs focus on revenue collecting, the lower payoff the InP and the users will obtain.
I. INTRODUCTION
In the incoming 5G, the network slicing is considered as a fundamental capability to support current and future diverse application scenarios. It requires the infrastructure provider (InP) to slice the radio access network (RAN) as well as the core network for the speciï¬c demands of the mobile virtual network operators (MVNOs) [1]. Speciï¬cally, the RAN slicing allows deployment of multiple logical RANs over a common physical infrastructure in a cost effective way, and enables each MVNO to have its own logically isolated RAN slice with complete control over it [2].
On implementing RAN slicing, one important aspect is the resource allocation problem [3]. In the slicing process, the InP allocates the physical resources, e.g., the frequency resource and the transmit power resource, to the MVNOs, which then allocates them to the users in order to satisfy their quality-ofservice (QoS) requirements. Therefore, the resource allocation in RAN slicing follows a tri-level hierarchical structure, i.e., the InP-MVNO-user structure [4]. In the tri-level structure, the InP needs to consider the responses in both the MVNO and user levels to determine its resource allocation strategy. However, since the MVNOs and users are generally selï¬sh entities which choose their responses to maximize their own interests, it is challenging for the InP to determine its resource allocation strategy efï¬ciently.
Most existing works on the resource allocation in RAN slicing considered a bi-level structure and neglected the initiative of the users in determining their own resource requirements [5]â€“[7]. In [5], a bankruptcy game was proposed for dynamic wireless resource allocation among multiple MVNOs to guarantee allocation fairness. In [6], stochastic game based schemes were proposed to cope with the time-varying trafï¬c conditions in wireless networks, where the resource allocation was determined by the VCG mechanism. In [7], two-stage

Stackelberg games were applied to optimize the strategies of InP and MVNOs. Few literatures considered the tri-level resource allocation problem, and adopted two levels of auctions to handle it [8], [9]. Authors in [8] proposed to use two levels of combinatorial auctions, and adopted VCG mechanisms in both levels. Authors in [9] proposed to use a proportional auction among the InP and MVNOs, and adopted VCG auction among the MVNOs and the users. Although the auction mechanisms such as VCG have many favorable properties such as social efï¬ciency and truthfulness, whether those properties hold for the coupled bi-level auction is lack of proof.
In this paper, we consider a tri-level RAN slicing where the selï¬shness of both the MVNO and user levels is taken into account. Unlike the existing works, we propose a trilevel Stackelberg game (TLSG) to jointly solve the frequency and power allocation and payment negotiation problem among three levels, i.e., the InP level, MVNO level and user level. The users, MVNOs, and InP are considered as self-interested individual decision-making entities occupying different levels, i.e., the InP occupying the upper level, the MVNOs occupying the middle level, and the users occupying the lower level. The entities in each level determine their strategies considering the strategies that will be responded by the levels below, in order to maximize their own payoff. Moreover, we solve the equilibrium strategies of the InP, MVNOs, and users in the TLSG by proposing an algorithm which combines the differential evolution (DE) algorithm and local descent method. Unlike the existing works [8], [9], the optimality of the InPâ€™s resource allocation strategy is guaranteed. Besides, we consider that the entities in both the InP and MVNO levels aim to achieve a tradeoff between the revenue and usersâ€™ utility, which is more practical than considering them to maximize either the revenue or usersâ€™ utility.
The main contributions of this paper are summarized as follows:
1) We analyze the tri-level hierarchical structure in RAN slicing, in which the MVNOs and users are selï¬sh and can determine their own strategies.
2) A TLSG is proposed to solve the tri-level frequency and power allocation problem jointly in RAN slicing.
3) Simulation results verify the market principle that if the MVNOs focus on collecting more revenue, the InP and the users will result in obtaining less payoff.
The rest of this paper is organized as follows. In Section II, the system model is described. In Section III, hierarchical

978-1-5386-4727-1/18/$31.00 Â©2018 IEEE

resource allocation is formulated as a TLSG and an algorithm combining DE and local descent method is proposed to solve the TLSG. The simulation results are presented in Section IV. Finally, the conclusion is drawn in Section V.
II. SYSTEM MODEL
In this section, we ï¬rst describe the network scenario of the RAN slicing. Following that, the process of the tri-level resource allocation is demonstrated, and the payoff functions of the users, the MVNOs, and the InP are speciï¬ed, respectively.

A. Network Scenario

As shown in Fig.1, we consider a single-cell time-

synchronized OFDMA system consisting of an InP, multiple

MVNOs and downlink users. The physical resources in this

system are owned by the InP, which can be partitioned into

isolated slices. The slices are leased to M MVNOs, which

are indexed by i. The MVNOs then use the leased resources

to provide services to the users, such as smart electric meters,

smart cars, and surveillance cameras, as shown in Fig. 1. Each

MVNO i has its own set of subscribed users, denoted as Ni. The number of users in Ni is denoted as Ni, and the j-th user among them is denoted as user (i, j).

For the physical resources, we consider an available fre-

quency band which is divided into Smax sub-channels (SCs), and the maximum transmit power Pmax of the base station.

We assume that the RAN slicing is implemented by the InP,

which assigns different frequency bands and transmit power to

each MVNO i. Therefore, the MVNOs (as well as the users)

are isolated with each other and have no interference.

For user (i, j), its data rate is a function of the physical

resources allocated to it by the MVNO i, which can be

expressed as follows:

Ri,j (si,j ,

pi,j )

=

si,j B

Â·

log2(1

+

ki,j

pi,j si,j

),

(1)

where si,j and pi,j are the number of SCs and the transmit power in Watt allocated to the user (i, j), respectively, and ki,j indicates the SNR per SC of the MVNO i â€“ user (i, j) link, denoted by ki,j = Hi,j /N0. Here Hi,j âˆ¼ liâˆ’,jÎ± is the channel gain between user (i, j) and the base station with li,j denoting
the distance and Î± being the decay factor, and N0 is the power
frequency density of the noise at the receivers of the users.

B. Process of Hierarchical Resource Allocation
The resource allocation in the tri-level RAN slicing includes 5 steps, which can be described as follows:
1) The InP determines the unit prices of the frequency resources to be Î´s and power resources to be Î´p, which are together referred to as resource price and denoted as Î´ = (Î´s, Î´p), and announces them to all the MVNOs,
2) Each MVNO i then decides the unit resale prices of the frequency resources to be Î½s,i and that of power resources to be Î½p,i for their users, which are together referred to as resale price and denoted as Î½i = (Î½s,i, Î½p,i).
3) Each user (i, j) decides the amount of frequency and power resources that it purchases from the MVNO, i.e.,

 

  




 



Fig. 1. Illustration on tri-level hierarchical structure in RAN slicing.

si,j and pi,j, which are referred to as the purchase amount

of frequency and power resources, respectively, and pays

for the resources to its MVNO.

4) Each MVNO i collects the purchase amount from its

users, and informs the InP that it will purchase Si =

Ni j=1

si,j

frequency resources and Pi

=

Ni j=1

pi,j

power resources, and pays the rent to the InP.

5) Finally, the InP creates RAN slices with the required

frequency and power resources for the MVNOs, which

then allocate the resources to their users.

C. Payoff Functions

1) Payoff Function of Users: Assume that each user (i, j) has the quasi-linear payoff function in the following form:

Ji,j (si,j , pi,j ; Î½i) = Ui,j (si,j , pi,j ) âˆ’ Î½s,isi,j âˆ’ Î½p,ipi,j , (2)

in which Ui,j(si,j, pi,j) is the utility that user (i, j) gets from si,j SCs and pi,j Watts power. Moreover, we assume that the utility of the users are only relevant to their data rates. Based on [10], the utility function of user (i, j) can be expressed as

Ui,j (si,j , pi,j ) = ai,j âˆ’ b e , i,j âˆ’(Ri,j (si,j ,pi,j )âˆ’qi,j )Â·di,j (3)

where ai,j is the maximum utility that the user can obtain, qi,j is the required average data rate representing the QoS requirement, bi,j is the loss of utility at the QoS required rate, and di,j is the parameter to ensure Ui,j(0) = 0, i.e. di,j = ln(ai,j /bi,j )/qi,j .
2) Payoff Function of MVNOs: We consider the payoff of

each MVNO i as a tradeoff between the collected revenue and

the sum of the usersâ€™ utility, which can be expressed as

Ni

Ji(Î½i; si, pi, Î´) =Î»i

(Î½s,i âˆ’ Î´s)si,j + (Î½p,i âˆ’ Î´p)pi,j

j=1

+ (1 âˆ’ Î»i)Î¾i(si, pi),

(4)

where si = (si,1, si,2, ...si,Ni ) and pi = (pi,1, pi,2, ...pi,Ni )

are the vectors of usersâ€™ frequency and power resources

purchase amount, Î¾i(si, pi) =

Ni j=1

Ui,j

(si,j

,

pi,j

)

denotes

the sum of usersâ€™ utility with regard to usersâ€™ resource purchase

amount vectors, and Î»i is a tradeoff coefï¬cient which indicates how much the MVNO i evaluates between the collected

revenue and the utility of the users that it serves.

3) Payoff Function of InP: We assume that the InP also

considers a tradeoff between the collected revenue and the

utility of users as its payoff, thus the payoff function of InP can be expressed as

JI (Î´; s1,...sM , p1, ...pM ) =

M

M

Î¼ (Î´sSi + Î´pPi) + (1 âˆ’ Î¼) Î¾i(si, pi), (5)

i=1

i=1

where Î¼ is the tradeoff coefï¬cient indicating how much the InP evaluates between the revenue and the sum of usersâ€™ utility.
III. ALGORITHM DESIGN FOR TLSG

In this section, we propose the TLSG for the tri-level hierarchical resource allocation problem in RAN slicing, and adopt a backward induction approach to ï¬nd the equilibrium strategy in each level. We transform the TLSG into equivalent optimization problem in each level, for which either an analytical solution or an algorithm is provided.
A. Strategy of Users

For the users of a certain MVNO i, we omit the index i for the sake of convenience in writing, e.g., using sj to denote si,j. The optimal strategy of the j-th user is the strategy which maximizes its payoff for a given resale price Î½, and can be
obtained by solving the following optimization problem

max
sj ,pj

Uj (sj , pj ) âˆ’ sj Î½s âˆ’ pj Î½p,

(6)

s.t. sj, pj â‰¥ 0.

(6a)

It can be proved that the optimization problem (6) is a concave optimization problem, and the solution can be given by the following proposition.

Proposition 1. The user level optimization problem (6) is a
concave optimization problem. For each given resoure resale
price Î½, there exists an unique optimal resource purchase amount (sâˆ—j , pâˆ—j ) for user j, which can be calculated as

sâˆ—j (Î½)

=

max{

Bdj

ln(Bdjajkj) âˆ’ ln Î½p (W0(eâˆ’1(kjÎº âˆ’ 1)) +

1)

âˆ’

1 Bdj

, 0}

(7)

pâˆ—j (Î½)

=

(

kjÎº âˆ’ 1 W0(eâˆ’1(kj Îº âˆ’

1))

âˆ’

1)

Â·

sâˆ—j (Î½) kj

(8)

where Îº = Î½s/Î½p is the resale price ratio, and W0(Â·) denotes the zero-th branch of the Lambert W function [11].

Proof. See Appendix A.
Therefore, for user j, the optimal strategy sâˆ—j and pâˆ—j can be seen as functions of the given resale price of its MVNO.

B. Strategy of MVNO

Similar to the former subsection, the subscript i indexing the MVNO is also omitted. Given Î´ = (Î´s, Î´p), the optimal strategy of the MVNO can be obtained by the following optimization problem:

max J (Î½; sâˆ—(Î½), pâˆ—(Î½), Î´)

(9)

Î½

s.t. Î½s, Î½p â‰¥ 0,

(9a)

where vectors sâˆ—(Î½) and pâˆ—(Î½) denote the optimal frequency and power resources purchase amount of the users given the

resale price Î½, respectively. Since the optimization problem (9) is generally not concave, thus, we propose an algorithm combing differential evolution (DE) and local descent method to solve the set of MVNOâ€™s optimal responses for a given Î´, which is denoted as R(Î´).
1) DE Algorithm: DE algorithm is a parallel direct search method, which utilizes Lp parameter vectors xn,g, n = 1, 2, ..., Lp as a population for each generation g [12]. Three operations are performed for each population g to evolve into the next generation, i.e., mutation, crossover and selection.
Mutation: For each vector in the generation g, a mutant vector is generated as follows:

vn,g+1 = xr1,g + F Â· (xr2,g âˆ’ xr3,g),

(10)

where r1, r2, r3 âˆˆ [1, Lp] are randomly selected individuals of the population, and F âˆˆ (0, 2] is the mutation coefï¬cient.

Moreover, a projection operation is performed to each mutant

vector in order to ensure the prices of the resources are

nonnegative, in which the negative elements in vn,g+1 are set to zeroes.

Crossover: The crossover is introduced to increase the

diversity of the perturbed parameter vectors, in which a trial

vector un,g+1 is formed for each parameter vector xn,g. The l-th element of the n-th trail vector u(nl,)g+1 is equal to vn(l,)g+1 with probability Cr âˆˆ (0, 1), or otherwise equal to x(nl,)g+1.
Selection: The trail vector un,g+1 is compared to xn,g in
terms of the resulting value of objective function, and the one

with larger resulting objective function value will be selected

to remain in the next generation.

2) Local Descent Method: Since the DE algorithm is a

heuristic algorithm which dose not guarantee the local optimal-

ity, a local optimization method is necessary. The optimization

problem (9) can be transformed into unconstrained minimiza-

tion problem using logarithmic barrier function method, in

which the objective function can be expressed as

max
Î½

BL (Î½ ;

Ï‡L,

Î´)

=

âˆ’J

(Î½;

Î´)

âˆ’

1 Ï‡

L

ln(Î½s)

âˆ’

1 Ï‡

L

ln(Î½p), (11)

where Ï‡L > 0 is a penalty factor. To solve the unconstrained minimization problem (11), it requires the information on the

gradient and hessian of J with regard to Î½, which is derived

in the following proposition.

Proposition 2. The gradient and hessian of the MVNOâ€™s payoff function J with regard to Î½ can be calculated by

âˆ‡J = Î»
jâˆˆN +

sâˆ—j pâˆ—j

+ (Î½s âˆ’ Î»Î´s)âˆ‡sâˆ—j + (Î½p âˆ’ Î»Î´p)âˆ‡pâˆ—j ,

(12)

âˆ‡2J

=

jâˆˆN

(1
+

+

âˆ‚ Î»)âˆ‚

(sâˆ—j (Î½s

,pâˆ—j ,Î½p

) )

+(Î½s âˆ’Î»Î´s)âˆ‡2sâˆ—j

+(Î½p âˆ’Î»Î´p)âˆ‡2pâˆ—j ,

(13)

where N + denotes the set of users who have non-zero optimal resource purchase amount.

Proof. See Appendix B.

Algorithm 1 Algorithm to solve MVNO level optimization.
Input: Lp (population size), G (number of generations), F (mutation coefï¬cient), Cr (crossover rate), k, g := 1, Î´;
Output: R(Î´);
1: Create a initial population of size Lp of random vectors xn,g, n = 1, ...Lp with dimension 2, satisfying xn,g 0.
2: Evaluate J (xn,g) for âˆ€n âˆˆ [1, Lp]; 3: If g > G, go to step 8; 4: Mutation: For each parameter vector xn,g, generate a
mutant vector vn,g+1. 5: Crossover: Perform crossover mechanism between the
target vector xn,g and the mutant vector vn,g+1 to generate trail vector un,g+1. 6: Selection: For each trail vector, evaluate J (un,g+1). If J (un,g+1) > J (xn,g), replace xn,g with un,g+1 in the population.
7: g := g + 1, go to step 3.
8: Perform local descent algorithm for Lp times with initial points set as Î½(0) = xn,g, n = 1, ...Lp, and output the set of results as R(Î´).

Based on the acquired gradient and hessian of J , Newton methods can be adopted to solve the unconstrained optimization problem (11), and the original constrained optimization problem can be solved using the logarithmic barrier method.
In summary, based on the DE algorithm and the local descent algorithm, Alg. 1 is proposed to solve the optimization problem (9). Since the DE algorithm is a heuristic approach, the results may not be global optimal. However, as the local descent method is combined with the DE algorithm, the results are at least local optimal.

C. Strategy of InP

In TLSG, the InP decides its strategy considering the strategies responded by the MVNOs and users, in order to maximize its payoff JI deï¬ned in (5). The InPâ€™s strategy in the equilibrium of TLSG can be obtained by solving the following bi-level optimization problem, with the constraints that the MVNOs and users choose their optimal strategies found in former parts of this section.

max
Î´0

JI (Î´; sâˆ—1(Î½1âˆ—), ...sâˆ—M (Î½Mâˆ— ), pâˆ—1(Î½1âˆ—), ...pâˆ—M (Î½Mâˆ— ))

M

M

s.t.

Siâˆ—(Î½iâˆ—) â‰¤ Smax,

Piâˆ—(Î½iâˆ—) â‰¤ Pmax,

i=1

i

Î½iâˆ— = argmin Î¼(Î´sSiâˆ—(Î½i) + Î´pPiâˆ—(Î½i))
Î½i âˆˆRi (Î´ )

+ (1 âˆ’ Î¼)Î¾i(sâˆ—i (Î½i), pâˆ—i (Î½i)),

Ri(Î´) = argmax Ji(Î½i; sâˆ—i (Î½i), pâˆ—i (Î½i), Î´),
Î½i 0

(14) (14a)
(14b) (14c)

where âˆ€i âˆˆ [1, M ]. The constraint (14b) indicates that the InP takes a pessimistic position [13], i.e., it considers that the MVNOs choose the optimal strategies which lead to the worst objective function values for it.

Parameter Value
Parameter Value
Parameter Value
Parameter Value

TABLE I SIMULATION PARAMETERS

Smax

Pmax

1200 SCs 49.5 dBm

b/a

q

10%

50 Kbps

N

M

1000

2

G

F

50

0.5

a 200
k 30 dB/SC
Lm 50
Cr 0.1

For a complex bi-level problem as (14), classical methods

often fail due to the non-convexity and disconnectedness, and

thus, a nested DE algorithms is adopted to solve (14) as in

[14], which is further combined with local descent method
to ensure the local optimality. Since Î½iâˆ—, âˆ€i âˆˆ [1, M ] can be seen as a function of Î´, thus the payoff function of the InP

can be denoted as JI (Î´). Therefore, using penalty function, the optimization problem (14) can be transformed into an

unconstrained optimization problem as

max
Î´0

PI (Î´;

Ï‡P

)

=

JI (Î´)

âˆ’

1 2

Ï‡P

C (Î´ ),

(15)

where C(Î´) denotes the exterior penalty function for the

constraints (14a), and Ï‡P > 0 is the penalty coefï¬cient. Specif-

ically, the quadratic penalty function is adopted for the con-

straints (14a), i.e., C(Î´) = min{0, Smaxâˆ’

min{0, Pmax âˆ’

M i

Piâˆ—(Î½iâˆ—(Î´))}2.

M i

Siâˆ—(Î½iâˆ—(Î´))}2 +

To perform local descent method to the unconstrained op-

timization problem (15), the gradient of JI (Î´) with regard to Î´ is necessary, which is derived in Appendix C. Based

on the gradient information, the quasi-newton method can be

adopted to solve the problem (15), and the combined nested

DE and local descent algorithm can be adopted to solve the

bi-level optimization problem (14). The main procedures of

the algorithm are similar with those in Alg. 1, while the

difference is that for each InP level parameter vector, another

DE algorithm is performed to solve the MVNO level problem

(14c), by generating and evolving the MVNO level parameter

vectors. Moreover, for the last generation of population, the

local descent method is performed. Therefore, the results

obtained by the proposed algorithm is at least local optimal.

IV. SIMULATION RESULTS
In this section the simulation results are presented to verify the proposed algorithm for the TLSG, and to reveal the relationship between the InPâ€™s revenue and usersâ€™ utility with regard to the tradeoff coefï¬cients of the MVNOs and InP. The simulation parameters are presented in Table I.

A. Veriï¬cation of Proposed Algorithm
Fig. 2 shows the payoff of the InP versus the resource price Î´s and Î´p, as well as the results generated by the proposed algorithm. It shows that our combined algorithm succeeds in ï¬nding the strategies of the InP to maximize its payoff. Besides, it can be seen that after the local descent method is perfomed, the results do not converge to one point. Instead,

200

= 0.2

180

= 0.4

= 0.6

= 0.8

160

Revenue at Equilibrium Average Users' Uitlity at Equilibrium

140

120

100


 

  

Fig. 2. InPâ€™s payoff versus the frequency resource price and the power resource price, Î»1 = Î»2 = 0.5, Î¼ = 0.3.

80
60 0 0.1 0.2 0.3 0.4 0.5 0.6 0.7 0.8 0.9 1 Tradeoff Coefficient of InP
Fig. 4. Average utility of users versus different tradeoff coefï¬cients of the InP and MVNOs.

6 105 5 4

= 0.2 = 0.4 = 0.6 = 0.8

3

2

1

0 0 0.1 0.2 0.3 0.4 0.5 0.6 0.7 0.8 0.9 1 Tradeoff Coefficient of InP
Fig. 3. Revenue of the InP versus InPâ€™s tradeoff coefï¬cient Î¼, in different cases of MVNOsâ€™ tradeoff coefï¬cient Î» values.

they compose a curve which is generally in the shape of Î´p âˆ¼ Î´sâˆ’1. This is because the descent algorithm stops when the change of the objective function value is lower than a certain threshold, which means the difference between the resulting payoff of these resource prices is relatively small. Nevertheless, in the simulation, the optimal point is selected to be the price setting with the maximum payoff of InP among all the local optimal points obtained by the proposed algorithm.
B. Inï¬‚uence of Tradeoff Coefï¬cients Î¼ and Î» on InPâ€™s Revenue and Usersâ€™ Utility
In Fig. 3 and Fig. 4, the inï¬‚uence of the tradeoff coefï¬cient values of the InP and MVNOs are shown. In the simulated scenarios, there are two MVNOs, who have the same number of users with same utility functions. Besides, the tradeoff coefï¬cients Î»i, i âˆˆ [1, 2] of the two MVNOs are the same.

From the curves with the same Î» value in the two ï¬gures, it can be seen that when the InP focuses more on collecting revenue, its revenue grows while the average usersâ€™ utility becomes lower. Besides, from the two ï¬gures, we also observe that when the MVNOs focus more on revenue collecting, the revenue of InP and the average usersâ€™ utility both become lower. This indicates that the more selï¬sh the MVNOs are, the lower payoff the InP and the users will obtain.

V. CONCLUSION
In this paper, we considered the tri-level hierarchical structure in RAN slicing, in which the MVNOs and users are selï¬sh and can determine their own strategies. To jointly solve the frequency and power allocation, we proposed a TLSG, which achieved an equilibrium such that each level selected the optimal strategy considering the strategic responses of the levels below. To solve the equilibrium, an algorithm combing the DE algorithm and local descent method was proposed. Simulation results veriï¬ed the proposed algorithm. Besides, it also veriï¬ed the market principle that the more selï¬sh the MVNOs are, the lower payoff the InP and users will be.

APPENDIX A PROOF OF PROPOSITION 1 The quadratic form of the hessian âˆ‡2Rj(sj, pj) can be calculated as follows:

xT

âˆ‡2Rj (sj ,

pj )x

=

âˆ’

s2j

(sj

Bkj2 + kj

pj

)2

(x1pj

âˆ’

x2sj )2

0,

which indicates that Rj(sj, pj) is concave with regard to sj and pj given B > 0. Based on the vector composition rule in convex function, since Rj(sj, pj) is a concave function, Uj (Rj ) = aj âˆ’ bj eâˆ’(Rjâˆ’qj)dj is concave and non-decreasing in Rj, thus Uj(sj, pj) is a concave function with regard to sj
and pj. Suppose that the user j purchases none-zero amount of
frequency and power resources, then one KKT condition of the optimization problem (6) can be given by

âˆ‚Uj (sâˆ—j , pâˆ—j ) âˆ‚sj

=

Î½s,

âˆ‚Uj (sâˆ—j , pâˆ—j ) âˆ‚pj

=

Î½p.

(16)

The partial derivatives can be calculated as follows

Baj dj (ln(1

+

kj pâˆ—j /sâˆ—j )

âˆ’

) kj pâˆ—j /sâˆ—j
1+kj pâˆ—j /sâˆ—j

(1 + kj pâˆ—j /sâˆ—j )Bdj sâˆ—j

=

Î½s,

Baj dj kj (1 + kj pâˆ—j /sâˆ—j )(1 + kj pâˆ—j /sâˆ—j )Bdj sâˆ—j

= Î½p.

(17a) (17b)

Divide the ï¬rst equation by the second equation and denote Îº = Î½s/Î½p, it can be derived that

ln(1 + kj pâˆ—j /sâˆ—j )(1 + kj pâˆ—j /sâˆ—j ) âˆ’ kj pâˆ—j /sâˆ—j = kj Îº.

Based on the Lambert W function, it can be derived that

kj pâˆ—j /sâˆ—j

=

kj Îº âˆ’ 1 W0(eâˆ’1(kj Îº âˆ’ 1))

âˆ’ 1,

(18)

where W0(Â·) denotes the zero-th branch of the Lambert W function. Substituting (18) into (17a) and (17b), the Proposition 1 can be derived, where the lower bound 0 is due to that the resource purchase amount should be nonnegative.

APPENDIX B GRADIENT AND HESSIAN OF MVNOâ€™S PAYOFF FUNCTION

For âˆ‡J , substitute the KKT condition (16) into the deï¬nition of âˆ‡J , then (12) can be derived directly. For âˆ‡2J , based on (12), it can be derived that

âˆ‚2J (Î½) âˆ‚Î½s2

=

jâˆˆN

+

Î»(2

âˆ‚sâˆ—j âˆ‚Î½s

+

Î½s

âˆ‚ 2 sâˆ—j âˆ‚Î½s2

+

Î½p

âˆ‚pâˆ—j âˆ‚Î½s

)

(19)

+ (1 âˆ’ Î»)

âˆ‚2

Uj (sâˆ—j , âˆ‚s2j

pâˆ—j

)

(

âˆ‚ âˆ‚

sâˆ—j Î½s

)2

+

2

âˆ‚

2

Uj (sâˆ—j , pâˆ—j ) âˆ‚sj âˆ‚pj

(

âˆ‚sâˆ—j âˆ‚Î½s

Â·

âˆ‚pâˆ—j âˆ‚Î½s

)

+

âˆ‚

2

Uj (sâˆ—j âˆ‚p2j

,

pâˆ—j )

(

âˆ‚pâˆ—j âˆ‚Î½s

)2

+

âˆ‚Uj (sâˆ—j , pâˆ—j ) âˆ‚sj

âˆ‚ 2 sâˆ—j âˆ‚Î½s2

+

âˆ‚Uj (sâˆ—j , pâˆ—j ) âˆ‚pj

âˆ‚ 2 pâˆ—j âˆ‚Î½s2

,

where N + denotes the set of users with non-zero resource

purchase amount. Taking the partial derivatives on the both

sides of the equations in (16) with regard to Î½s, it can be

derived that

â¡ âˆ‚2Uj (sâˆ—j ,pâˆ—j )
â¢ âˆ‚s2j â£ âˆ‚2Uj (sâˆ—j ,pâˆ—j )

â¤
âˆ‚2Uj (sâˆ—j ,pâˆ—j )

âˆ‚sj âˆ‚pj âˆ‚2Uj (sâˆ—j ,pâˆ—j )

â¥â¦

Â·

âˆ‚ sâˆ—j âˆ‚âˆ‚pÎ½âˆ—js

=

1 0

.

(20)

âˆ‚sj âˆ‚pj

âˆ‚ p2j

âˆ‚Î½s

Substituting (16) and (20) into (19), it can be derived that

âˆ‚2J (Î½) âˆ‚Î½s2

=

(1 + Î») âˆ‚sâˆ—j

jâˆˆN +

âˆ‚Î½s

+

Î½s

âˆ‚sâˆ—j 2 âˆ‚Î½s2

+

Î½p

âˆ‚pâˆ—j 2 âˆ‚Î½s2

.

By the similar token, âˆ‚2J (Î½)/âˆ‚Î½sâˆ‚Î½p and âˆ‚2J (Î½)/âˆ‚Î½p2 can also be derived. Therefore, based on the deï¬nition of âˆ‡2J (Î½), (13) can be proved.

APPENDIX C GRADIENT OF INPâ€™S PAYOFF FUNCTION âˆ‡JI (Î´) WITH
REGARD TO Î´
Taking partial derivatives on the both side of the KKT condition âˆ‡Ji(Î½iâˆ—) = 0 with regard to Î´s and Î´p, it can be

derived that

âˆ‡2Ji

âˆ‚ Î½sâˆ—,i âˆ‚âˆ‚Î½Î´pâˆ—s,i âˆ‚Î´s

= Î»iâˆ‡Siâˆ—(Î½iâˆ—),

â¡ âˆ‚Î½sâˆ—,i â¤ âˆ‡2Ji â£ âˆ‚âˆ‚Î½Î´pâˆ—p,i â¦ = Î»iâˆ‡Piâˆ—(Î½iâˆ—).
âˆ‚Î´p

Suppose that the hessian âˆ‡2Ji is non-singular, thus, it can be derived that

âˆ‚JI (Î´) âˆ‚Î´s

= âˆ’(1 âˆ’ Î¼)

M i

Î»i(âˆ‡Î¾iâˆ—)T (âˆ‡2Ji)âˆ’1âˆ‡Siâˆ—

M
âˆ’Î¼( Siâˆ— +Î»i(âˆ‡Siâˆ—)T(âˆ‡2Ji)âˆ’1âˆ‡Siâˆ— +Î»i(âˆ‡Piâˆ—)T(âˆ‡2Ji)âˆ’1âˆ‡Siâˆ—),

i

âˆ‚JI (Î´) âˆ‚Î´p

= âˆ’(1 âˆ’ Î¼)

M i

Î»i(âˆ‡Î¾iâˆ—)T (âˆ‡2Ji)âˆ’1âˆ‡Piâˆ—

M
âˆ’Î¼( Siâˆ— +Î»i(âˆ‡Siâˆ—)T(âˆ‡2Ji)âˆ’1âˆ‡Piâˆ— +Î»i(âˆ‡Piâˆ—)T(âˆ‡2Ji)âˆ’1âˆ‡Piâˆ—).

i

ACKNOWLEDGEMENT
This work was supported in part by the National Nature
Science Foundation of China under grant number 61625101.
REFERENCES
[1] O. Sallent, J. Perez-Romero, R. Ferrus, and R. Agusti, â€œOn radio access network slicing from a radio resource management perspective,â€ IEEE Wireless Commun., vol. 24, no. 5, pp. 166â€“174, Oct. 2017.
[2] K. Koutlia, A. Umbert, S. Garcia, and F. Casadevall, â€œRAN slicing for multi-tenancy support in a WLAN scenario,â€ in IEEE Conf. NetSoft, pp. 1â€“2, Bologna, Italy, Jul. 2017.
[3] M. Richart, J. Baliosian, J. Serrat, and J. L. Gorricho, â€œResource slicing in virtual wireless networks: A survey,â€ IEEE Trans. Network and Service Manage., vol. 13, no. 3, pp. 462â€“476, Sep. 2016.
[4] W. Tang and R. Jain, â€œHierarchical auction mechanisms for network resource allocation,â€ IEEE Journal on Selected Areas in Communications, vol. 30, no. 11, pp. 2117â€“2125, Dec. 2012.
[5] B. Liu and H. Tian, â€œA bankruptcy game-based resource allocation approach among virtual mobile operators,â€ IEEE Commun. Lett., vol. 17, no.7, pp. 1420â€“1423, Jul. 2013.
[6] F. Fu and U. C. Kozat, â€œStochastic game for wireless network virtualization,â€ IEEE/ACM Trans. Networking, vol. 21, no. 1, pp. 84â€“97, Feb. 2013.
[7] T. M. Ho, N. H. Tran, S. M. A. Kazmi, and C. S. Hong, â€œDynamic pricing for resource allocation in wireless network virtualization: A stackelberg game approach,â€ in Int. Conf. Inform. Networking, pp. 429â€“434, Da Nang, Vietnam, Jan. 2017.
[8] K. Zhu and E. Hossain, â€œVirtualization of 5G cellular networks as a hierarchical combinatorial auction,â€ IEEE Trans. Mobile Comput., vol. 15, no. 10, pp. 2640â€“2654, Oct. 2016.
[9] M. Morcos, T. Chahed, C. Lin, J. Elias, and F. Martignon, â€œA twolevel auction for C-RAN resource allocation,â€ in IEEE ICC Workshops, pp. 516â€“521, Paris, France, May 2017.
[10] D. Niyato, M. A. Alsheikh, P. Wang, I. K. Dong, and Z. Han, â€œMarket model and optimal pricing scheme of big data and internet of things (IoT),â€ in IEEE ICC, pp. 1â€“6, Kuala Lumpur, Malaysia, May 2016.
[11] R. M. Corless, G. H. Gonnet, D. E. G. Hare, D. J. Jeffrey, and D. E. Knuth, â€œOn the Lambert W function,â€ Advances in Computational Math., vol. 5, no. 1, pp. 329â€“359, Dec. 1996.
[12] R. Storn and K. Price, â€œDifferential evolution - a simple and efï¬cient heuristic for global optimization over continuous spaces,â€ J. Global Optimization, vol. 11, no. 4, pp. 341â€“359, Dec. 1997.
[13] A. Sinha, P. Malo, and K. Deb, â€œA review on bilevel optimization: From classical to evolutionary approaches and applications,â€ IEEE Trans. Evol. Computation, vol. 22, no. 2, pp. 276â€“295, Apr. 2018.
[14] J. S. Angelo, E. Krempser, and H. J. C. Barbosa, â€œDifferential evolution for bilevel programming,â€ in IEEE Congr. Evol. Computation, pp. 470â€“ 477, Cancun, Mexico, Jun. 2013.

