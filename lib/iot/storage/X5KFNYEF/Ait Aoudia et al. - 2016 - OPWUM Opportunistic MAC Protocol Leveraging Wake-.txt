Hindawi Publishing Corporation Journal of Sensors Volume 2016, Article ID 6263719, 9 pages http://dx.doi.org/10.1155/2016/6263719

Research Article OPWUM: Opportunistic MAC Protocol Leveraging Wake-Up Receivers in WSNs
Fay√ßal Ait Aoudia, Matthieu Gautier, and Olivier Berder
ENSSAT/IRISA, 6 rue Kerampont, 22300 Lannion, France
Correspondence should be addressed to Fayc¬∏al Ait Aoudia; faycal.ait-aoudia@irisa.fr
Received 26 July 2015; Revised 23 September 2015; Accepted 27 September 2015
Academic Editor: Guiyun Tian
Copyright ¬© 2016 Fayc¬∏al Ait Aoudia et al. This is an open access article distributed under the Creative Commons Attribution License, which permits unrestricted use, distribution, and reproduction in any medium, provided the original work is properly cited.
Opportunistic forwarding has emerged as a promising technique to address the problem of unreliable links typical in wireless sensor networks and improve energy efficiency by exploiting multiuser diversity. Timer-based solutions, such as timer-based contention, form promising schemes to allow opportunistic next hop relay selection. However, they can incur significant idle listening and thus reduce the lifetime of the network. To tackle this problem, we propose to exploit emerging wake-up receiver technologies that have the potential to considerably reduce the power consumption of wireless communications. A careful design of MAC protocols is required to efficiently employ these new devices. In this work, we propose Opportunistic Wake-Up MAC (OPWUM), a novel multihop MAC protocol using timer-based contention. It enables the opportunistic selection of the best receiver among its neighboring nodes according to a given metric (e.g., the remaining energy), without requiring any knowledge about them. Moreover, OPWUM exploits emerging wake-up receivers to drastically reduce nodes power consumption. Through analytical study and exhaustive networks simulations, we show the effectiveness of OPWUM compared to the current state-of-the-art protocols using timer-based contention.

1. Introduction
Wireless sensor networks (WSN) constitute a key technology to fulfill the increasing need of interaction between virtual and physical worlds. In order to connect two nodes, traditional routing schemes predefine fixed paths before transmissions. Then, at each hop, a fixed neighbor is used to forward a packet. These schemes do not suit well the dynamic environment with lossy, unreliable, and varying link qualities as they incur excessive link-level retransmission and thus they waste network resources [1]. Opportunistic forwarding [2] has emerged as a promising approach to tackle the problem of varying link qualities. The basic idea of this technique is to choose the next forwarding node at every hop instead of taking one predefined path to the destination. Opportunistic forwarding takes advantage of the broadcast nature of the wireless medium, by allowing intermediate nodes to collaborate on packet forwarding in a localized manner. Thus, new cross-layer MAC protocols must be designed to allow this collaboration.

Research in opportunistic forwarding is a hot topic and many solutions were proposed [3‚Äì12]. In this work, we focus on timer-based solutions [9‚Äì12], which constitute a promising technique to allow opportunistic next relay selection while minimizing information exchange between nodes and their neighbors. Indeed, neighborhood knowledge is traditionally achieved by periodic packets exchange called Hello packets, which leads to out of date information and is usually very costly in terms of energy. Timer-based solutions encode information in time difference, avoiding Hello packets exchanges between a node and its neighbors. With timer-based contention mechanism, when a node wants to send a packet, it sends a Request To Send (RTS) frame. Then, a contention window begins, during which a subset of the sender neighbors, called potential receivers, answer by sending a Clear To Send (CTS) frame using a backoff, called contention backoff, computed from a state metric (e.g., the remaining energy). The better a potential receiver behaves according to the state metric, the smaller its contention backoff should be. The receiver which answers first is chosen

2

Journal of Sensors

by the sender to receive its packet, and therefore the best next hop relay with respect to the chosen state metric is selected.
The main drawback of this technique is that it can be exceedingly energy costly as it requires the sender to keep its transceiver in the receive state for an arbitrary long period during the next hop relay election process, incurring high idle listening. Many applications such as environmental monitoring, home automation, and assisted living require longterm sustainability, especially when the nodes are deployed in harsh environments. A severe bottleneck for many longterm applications is the limited lifetime of WSNs due to the finite amount of embedded energy in each node. As wireless communications are usually the most power consuming tasks over all the other nodes activities such as sensing and computing [13], we propose in this work to use wake-up receivers (WuRx) to reduce energy consumption incurred by communications in the context of timer-based contention. WuRx form a promising technology that has witnessed a tremendous upsurge in recent years [14, 15]. The idea is to equip each node with a low power receiver that is always listening to the channel and is able to send hardware interrupts to wake up the node from the sleep state when a specific signal, called wake-up beacon (WUB), is detected.
In this paper, we present OPWUM, a novel MAC protocol for WSNs in which each node embeds a WuRx. OPWUM uses timer-based contention to allow nodes to opportunistically select a receiver among their potential receivers at each packet sending. Potential receivers are chosen using a routing algorithm not addressed in this work [16]. By doing all the next hop relay election phase using WUBs only, OPWUM enables timer-based contention to become an energetically interesting solution. Our contributions to the research on MAC protocols are the following:
(i) designing OPWUM, a novel MAC protocol for WSNs using timer-based contention to permit opportunistic forwarding that leverages the use of WuRx;
(ii) comparing analytically OPWUM to 1-hopMAC [12], a state-of-the-art protocol using timer-based contention;
(iii) implementing and comparing OPWUM and 1hopMAC using exhaustive network simulations.
The remainder of this paper is organized as follows: Section 2 presents related works. The design of OPWUM is detailed in Section 3. In Section 4, OPWUM and 1-hopMAC are evaluated analytically. In Section 5, OPWUM is compared to 1-hopMAC using exhaustive simulations. An application case is shown in Section 6 in order to demonstrate the effectiveness of OPWUM. Finally, Section 7 concludes this paper and discusses further works.
2. Related Works
2.1. Opportunistic Routing. Opportunistic forwarding solutions can be classified according to the selection metric of relay [17]: geographical information [3], delivery rate [4], and hop count [5] or not restricted to a specific kind of metric [6]. Some protocols code the packets when they are emitted [7].

However, most of this proposals do not consider the MAC layer, and assume the existence of a MAC protocol on which they rely. In this work, we focus on the MAC layer and assume the existence of a routing protocol that realizes a preselection of the forwarders among the neighboring nodes. The result of this preselection constitutes the set of potential receiver.
Zhang et al. proposed a reservation-based opportunistic forwarding MAC protocol (ROP-MAC) in [8]. With ROP-MAC, each node keeps two synchronization tables, one mapping destination nodes to their reserved time (the transmitting table) and one mapping source nodes to their reserved time (the receiving table). When a node needs to transmit a packet, it first checks if the destination ID of the packet is present in the destination table. If it is, the node transmits the packet at the reserved time. Otherwise, a synchronization process is launched to synchronize the node with its potential receivers. During this process, a reservation is made for the following transmissions from the source node. Multiple transmissions from the same source node can profit from one synchronization. Moreover, the reservation tables of each node are used to avoid collisions of simultaneous transmissions from different source nodes.
Timer-based contention has been mainly addressed at the network layer [9‚Äì11]. Watteyne et al. proposed to use it in the MAC layer with 1-hopMAC [12]. 1-hopMAC is a semiasynchronous transmitter initiated protocol. Hence, nodes periodically wake up to listen to the channel and check if any neighboring node wants to send packets. When a node wants to send a packet, it first sends a preamble long enough for neighboring nodes to receive it and thus should last at least as long as the wake-up period. The preamble is made of microframes, each containing the instant at which the contention window begins. The node that initiated the communication, that is, the sender, must keep its transceiver in RX state from the beginning of the contention window until the first CTS frame is received. At the end of the contention window, all potential receivers, which have sent a CTS frame during the contention window, put their transceiver in RX state to receive a small header from the sender containing the address of the selected next hop relay, that is, the node that first sent a CTS. Then, all the receivers but the selected one, turn their radio off, and the data exchange takes place between the selected node and the sender.
As OPWUM is also using timer-based contention, 1hopMAC is the closest work to ours. However, 1-hopMAC suffers from high energy consumption caused by idle listening. With OPWUM, we propose to exploit emerging WuRx technologies in order to make timer-based contention energetically interesting.
2.2. MAC Protocols Exploiting Wake-Up Receivers. Recently, WuRx has received a great deal of attention and many efforts were devoted to improve WuRx hardware [18‚Äì22]. As the WuRx will always be active while the other components are in sleep mode, its power consumption should be in the same range as the power consumption of the other devices in sleep mode, that is, less than 1 Ì†µÌºáW. Using WuRx, when a node wants to transmit a packet, it first transmits a WUB. The receiver WuRx hardware detects this beacon and wakes

Journal of Sensors

3

up the node. Some WuRx propose data passing capabilities, allowing the nodes to embed few bytes of information in the WUBs, for example, to wake up only a subset of neighboring nodes. Using WuRx, synchronization schemes are considerably simplified and idle listening is minimized. Efficient use of these emerging technologies requires careful design of MAC protocols, and, to the best of our knowledge, only a little research was made on designing communication protocols leveraging WuRx [23‚Äì28].
WUR-MAC [23] was the first MAC protocol to take advantage of ultralow power WuRx. WUR-MAC is a multichannel protocol based on the well known RTS/CTS handshake mechanism. The WuRx and the main transceiver use separate channels. As it is assumed that the WuRx provides data passing capabilities, RTS/CTS handshake with channel assignment is done using the wake-up radio. A node captures each incoming RTS/CTS packet and therefore has the information about which channel is used by its neighbors. Thus, when a node wants to communicate with one of its neighbors, it chooses randomly a free channel and sends an RTS packet containing the chosen channel. To avoid hidden terminal problems, the destination node confirms the chosen channel or proposes another one in the CTS packet. Then, both the source and the destination switch to the chosen channel and use their main transceiver for the data exchange.
Other MAC protocols exploiting WuRx were proposed targeting Wireless Body Area Networks (WBAN) [24] and implantable WBAN [25]. In the context of energy harvesting WSNs, Le et al. [26] compared the performance of the TICER protocol with and without WuRx. They have shown that using a wake-up radio drastically reduces the energetic cost of communications. The energy thus saved is used to increase the node throughput. Blanckenstein et al. [27] proposed to use WuRx to create node clusters with similar sensor readings by using wake-up messages to disseminate similarity information about the sensor readings. The idea is to reduce energy consumption by clustering nodes with similar readings and allowing only the cluster heads to send data.
Spenza et al. proposed ALBA-WUR in [28], an extended version of the ALBA-R cross-layer protocol that exploits the features of the WuRx designed by the authors. With ALBA-WUR, each node assigns to itself a pool of WuRx addresses. A WuRx address is a combination of three values quantifying the ability of the node to move packets forward and the number of packets it can receive in a burst. When a node wants to transmit a packet, it wakes up only those neighbors that satisfy specific conditions, expressed by a WuRx address embedded in the WUB. Only the nodes that have this address in their WuRx addresses pool will be waking up by their WuRx. After the selective awakening phase, the node that initiated the communication sends an RTS that will be received only by awakened neighboring nodes. Then, the next hop relay is chosen according to ALBA-R operation.
ALBA-WUR is the only protocol exploiting WuRx and allowing opportunistic selection of the next hop relay. Nevertheless, it still suffers from overhead due to the second selection phase done according to ALBA-R operation, which does not take advantage of the WuRx. Moreover, ALBA-WUR

does not suit well the situation where a node needs to choose the best next hop relay according to a given metric. With OPWUM, we propose a cross-layer protocol designed to fully exploit WuRx.
3. Design of OPWUM
3.1. Timer-Based Contention. Timer-based contention enables the node to select a next hop relay according to a given metric without having any knowledge about its neighbors. When a node Ì†µÌ±¢ wants to transmit a packet, it first broadcasts an RTS beacon. Then, each node V that receives the RTS beacon and is a potential receiver of Ì†µÌ±¢ will set a backoff of duration Ì†µÌ∞µ(V) ‚àà [0, Ì†µÌ∞∑CW], where Ì†µÌ∞∑CW is the contention window duration. Ì†µÌ∞µ(V) is a function of a state metric Ì†µÌ±Ä(V): Ì†µÌ∞µ(V) = Ì†µÌ±ì(Ì†µÌ±Ä(V)). The better V behaves according to Ì†µÌ±Ä(V), the shorter Ì†µÌ∞µ(V) is. For example, if Ì†µÌ±Ä(V) is the remaining energy of V, the larger Ì†µÌ±Ä(V) is, the smaller Ì†µÌ∞µ(V) should be. When the backoff expires, a CTS is sent by V. Ì†µÌ±¢ selects the next hop relay the node which answered the first, thus having the best status according to the state metric. Thus, the next hop forwarder is selected opportunistically, without requiring the sender to have any knowledge about its neighbors. The choice of the metric is not discussed in this work, as it is application dependent. The next section details the design of OPWUM.
3.2. OPWUM Design. OPWUM enables a node to opportunistically select the next hop forwarder among a set of potential receivers. It is assumed that each node is equipped with both a WuRx and a main transceiver that offers Channel Sensing (CS) capabilities. Figure 1 shows an example of packet forwarding using OPWUM. In this case, the sender has four potential receivers. After receiving an RTS WUB from the sender, each receiver sets a backoff computed from a state metric. The better the node behaves according to the state metric, the smaller the backoff should be. In this example, receiver 1 computes the shortest backoff and is thus the first one to answer by sending a CTS WUB. Therefore, it is chosen by the sender to become the next hop relay. Receiver 2 also received the CTS sent by receiver 1, causing the interruption of its backoff. Yet, receivers 3 and 4 did not receive the CTS, for example, because receiver 1 is out of range of their wake-up radios. They must be informed that they have lost the contention. Receiver 3 backoff expires while receiver 1 is sending a CTS WUB. Before each CTS sending, a CS operation is performed in order to avoid CTS collisions. Receiver 3 CS detects the activity on the channel, and thus cancels the CTS sending. Because the main transceivers usually have a much higher sensitivity than the wake-up radios, it is possible that the CS operation detects the CTS sending activity even if the CTS was not detected by the wakeup radio. When the sender receives the CTS from the first receiver, it sends an About To Send (ATS) WUB in order to inform the remaining nodes still competing that a next hop relay was already chosen. In this example, receiver 4 receives the ATS and thus cancels its backoff. Finally, the data exchange takes place between the sender and the first receiver using the main transceiver.

4

Journal of Sensors

RTS Sender
Receiver 1 RTS

ATS CTS

DATA

CS

CTS

DATA

ATS Contention backoff ended

ACK t t
ACK t t

Receiver 2 RTS
Receiver 3 RTS

CTS ATS

t

Contention backoff interrupted by CTS reception

t

CTS sending cancelled because of unclear CS

ATS

t

Contention backoff ended

t

Receiver 4 RTS

ATS

t

Contention backoff

t

interrupted by ATS reception

Main transceiver WuRx
Figure 1: Packet forwarding using OPWUM. Red color is used to represent WUBs transmission, gray color is used to represent DATA and ACK frames transmission, and white color is used to represented reception. Main transceiver channel is represented with a solid time line and WuRx channel with a dotted time line. CS are represented by dark gray rectangles located under the time line.

3.3. Wake-Up Beacon Frames. When using state-of-the-art WuRx with addressing capabilities, only a few bytes of data can be embedded in the WUBs [28]. Moreover, because of the low sensitivity and bitrates of current WuRx, sending long WUBs is energetically costly. Indeed, WUBs must be sent at high power in order to cope with the low sensitivity of WuRx, and at relatively low data rates (few kbps), incurring longer transmission time. Therefore, reducing the size of the WUBs is an important consideration when designing MAC protocols exploiting WuRx. The structure shared by the three WUBs of OPWUM (RTS, CTS, and ATS) is shown in Figure 2. The length of the WUBs is 18 + Ì†µÌ∞ª bits, where Ì†µÌ∞ª is the length of the hardware preamble required by the WuRx (2 to 8 bits usually). After the hardware preamble, the WUB type (RTS, CTS or ATS) is indicated by a 2-bit field. Finally, the WuRx addresses of the sender and receiver are indicated, each using a 8-bit field. Allowing only 8-bit addresses may seem limiting regarding scalability, but WuRx addresses do not have to be similar to network addresses used by higher network layers. Indeed, as they are only used for one hop communications, they can be reused by nodes which do not share neighbors, while network addresses must be unique across the network.
3.4. Collisions and Retransmissions. Collisions may lead to retransmissions, and therefore reducing collisions is an important issue when designing energy efficient sensor

Hardware preamble
H bits

Type 2 bits

Source address 8 bits

Destination address 8 bits

Figure 2: Structure of a OPWUM WUB.

networks. Current semiasynchronous MAC protocols use rendez-vous schemes to synchronize the source and destination nodes, increasing the risk of collisions when two nodes want to transmit to a same destination at approximately the same time. OPWUM uses WuRx to achieve pure asynchronous communication, thus greatly reducing the risk of simultaneous communications as no rendez-vous scheme is needed. Moreover, a node captures all the RTS, CTS, and ATS WUBs sent by its neighbors allowing it to be informed when a transmission in which it is not involved is about to happen. In that case, the node enters a silent state for a predefined period during which it will not respond to RTS WUBs and postpones the sending of all packets to the end of the silent period. When the silent period expires, if there are packets to send, the node will wait for a random backoff before starting a transmission process to avoid collisions between multiple nodes leaving the silent state at the same time. Finally, to reduce the risk of collision between WUBs, a clear channel assignment is done before sending RTS or CTS WUBs.
Nevertheless, collisions can still occur when multiple nodes wake up at the same time and perform a CS simultaneously. Wireless channel interference may also lead to the need of packet retransmission. When retransmission is needed, some backoff strategy such as binary exponential backoff can be used to efficiently resolve collisions.

4. Analytical Evaluation
In this section, we evaluate analytically OPWUM and 1hopMAC [12], a state-of-the-art MAC protocol using timerbased contention, described in Section 2.2. The average power consumptions of OPWUM and 1-hopMAC are derived and used to compare their energy consumptions. When studying 1-hopMAC, the lowest achievable power consumption is considered for fair comparison.

4.1. OPWUM Power Consumption. Let Ì†µÌ±üTX be the rate at which a node transmits packets and let Ì†µÌ±üRX be the rate at which it receives packets. In the context of multihop networks, packets transmitted by a node have been either generated locally or received from neighboring nodes in order to be forwarded to the sink; therefore, received packets are only a part of the transmitted packets. Thus, we have

Ì†µÌ±üTX ‚©æ Ì†µÌ±üRX.

(1)

The energetic costs of transmitting and receiving a single packet incurred by OPWUM are, respectively, denoted by Ì†µÌ∞∏TOXPWUM and Ì†µÌ∞∏ROXPWUM and are computed as follows:
Ì†µÌ∞∏TOXPWUM = 2Ì†µÌ±ÉTWXÌ†µÌºèWUB + Ì†µÌ±ÉTNXWÌ†µÌºèdata + Ì†µÌ±ÉRXÌ†µÌºèack, (2)
Ì†µÌ∞∏ROXPWUM = Ì†µÌ±ÉTWXÌ†µÌºèWUB + Ì†µÌ±ÉRXÌ†µÌºèdata + Ì†µÌ±ÉTNXWÌ†µÌºèack,

Journal of Sensors

5

where Ì†µÌºèWUB, Ì†µÌºèdata, and Ì†µÌºèack are, respectively, the transmission durations of a WUB (RTS, CTS, or ATS), a DATA frame, and an ACK frame. Ì†µÌ±ÉTNXW, Ì†µÌ±ÉTWX, and Ì†µÌ±ÉRX are the power consumed by the main transceiver when sending non-WUB frames, sending WUBs, and listening, respectively. Hence, the average power consumption of OPWUM denoted by Ì†µÌ±ÉÌ†µOÌ∞∂ PWUM is
Ì†µÌ±ÉÌ†µOÌ∞∂ PWUM = Ì†µÌ±ÉWuRx + Ì†µÌ∞∏TOXPWUMÌ†µÌ±üTX + Ì†µÌ∞∏ROXPWUMÌ†µÌ±üRX (3)
+ (1 ‚àí Ì†µÌ±áTOXPWUMÌ†µÌ±üTX ‚àí Ì†µÌ±áROXPWUMÌ†µÌ±üRX) Ì†µÌ±ÉÌ†µÌ±Ü,
where Ì†µÌ±ÉWuRx is the power consumed by the WuRx, Ì†µÌ±ÉÌ†µÌ±Ü is the power consumed by the main transceiver in sleep state, and Ì†µÌ±áTOXPWUM and Ì†µÌ±áROXPWUM are the durations during which the main transceiver is active when transmitting and receiving a single packet, respectively. They can be computed as follows:
Ì†µÌ±áTOXPWUM = 3Ì†µÌºèWUB + Ì†µÌºèdata + Ì†µÌºèack, (4)
Ì†µÌ±áROXPWUM = 2Ì†µÌºèWUB + Ì†µÌºèdata + Ì†µÌºèack.

4.2. 1-hopMAC Power Consumption. As we have seen in Section 2.2, 1-hopMAC is a semiasynchronous transmitter initiated MAC protocol. Therefore, nodes must periodically wake up to listen to the channel. We denote the wake-up period by Ì†µÌ±áWI. Moreover, preamble used by source nodes to initiate a transmission must be long enough for the neighboring nodes to receive them and thus must last at least Ì†µÌ±áWI. The energetic costs of transmitting and receiving a single packet incurred by 1-hopMAC, respectively, denoted by Ì†µÌ∞∏ThoXp and Ì†µÌ∞∏RhoXp are computed as follows:
Ì†µÌ∞∏ThoXp (Ì†µÌ±áWI) = Ì†µÌ±ÉTNXWÌ†µÌ±áWI + Ì†µÌ±ÉRXÌ†µÌ∞ø + Ì†µÌ±ÉRXÌ†µÌºèCTS + Ì†µÌ±ÉTNXWÌ†µÌºèhdr

+ Ì†µÌ±ÉTXÌ†µÌºèdata + Ì†µÌ±ÉRXÌ†µÌºèack, (5)
Ì†µÌ∞∏RhoXp = Ì†µÌ±ÉTNXWÌ†µÌºèCTS + Ì†µÌ±ÉRXÌ†µÌºèhdr + Ì†µÌ±ÉRXÌ†µÌºèdata

+ Ì†µÌ±ÉTNXWÌ†µÌºèack,

where Ì†µÌºèCTS and Ì†µÌºèhdr are, respectively, the transmission duration of a CTS frame and of the small header used to inform the potential receivers about the selected next hop relay. Ì†µÌ∞ø
is the average waiting time before the first CTS is received
by the sender from a potential receiver. The average power consumption of 1-hopMAC denoted Ì†µÌ±ÉÌ†µhÌ∞∂op is

Ì†µÌ±ÉÌ†µhÌ∞∂op

=

Ì†µÌ∞∏ThoXp

(Ì†µÌ±áWI) Ì†µÌ±üTX

+

Ì†µÌ∞∏RhoXpÌ†µÌ±üRX

+

Ì†µÌ∞∏W Ì†µÌ±áWI

(6)

+

(1

‚àí

Ì†µÌ±áThXopÌ†µÌ±üTX

‚àí

Ì†µÌ±áRhXopÌ†µÌ±üRX

‚àí

Ì†µÌ±áW Ì†µÌ±áWI

)

Ì†µÌ±ÉÌ†µÌ±Ü,

where Ì†µÌ±áRhXop and Ì†µÌ±áThXop are the time during which the main transceiver is active when transmitting and receiving a single packet, respectively, and are computed as follows:

Ì†µÌ±áThXop = Ì†µÌ±áWI + Ì†µÌ∞ø + Ì†µÌºèCTS + Ì†µÌºèhdr + Ì†µÌºèdata + Ì†µÌºèack, (7)
Ì†µÌ±áRhXop = Ì†µÌºèCTS + Ì†µÌºèhdr + Ì†µÌºèdata + Ì†µÌºèack,

Table 1: Values used for numerical computations and simulations.

Ì†µÌ±ÉÌ†µÌ±Ü
Ì†µÌ±ÉRX Ì†µÌ±ÉTWX Ì†µÌ±ÉTNXW Ì†µÌ±ÉWuRx
Ì†µÌºèWUB
Ì†µÌºèdata
Ì†µÌºèack, Ì†µÌºèCTS, Ì†µÌºèhdr, Ì†µÌºèÌ†µÌºáFrame

0.0006 mW 22.2 mW 80.1 mW 26.7 mW 196 nW
5.2 ms 12.5 ms 3.33 ms

and Ì†µÌ±áW and Ì†µÌ∞∏W are the time required and the energy cost of a single periodic wake-up, respectively. Periodic wakeups must be long enough for the node to receive a single microframe. Thus, if we denote Ì†µÌºèÌ†µÌºáFrame the time required to transmit a microframe, then Ì†µÌ±áW and Ì†µÌ∞∏W are computed as follows:
Ì†µÌ±áW = 2Ì†µÌºèÌ†µÌºáFrame, (8)
Ì†µÌ∞∏W = 2Ì†µÌ±ÉRXÌ†µÌºèÌ†µÌºáFrame.
As we are looking for a lower bound of the average power consumption, we assume that Ì†µÌ∞ø = 0.
4.3. Evaluation of OPWUM and 1-hopMAC. In order to compare the average power consumptions incurred by OPWUM and 1-hopMAC, ŒîÌ†µÌ±ÉÌ†µÌ∞∂ = Ì†µÌ±ÉÌ†µhÌ∞∂op ‚àí Ì†µÌ±ÉÌ†µOÌ∞∂ PWUM is studied over values of Ì†µÌ±üTX and Ì†µÌ±üRX ranging from 0 to 2 Hz. Only the half-space defined by (1) is considered. Because Ì†µÌ±ÉÌ†µhÌ∞∂op also depends on the wake-up period Ì†µÌ±áWI and we are interested in a lower bound of Ì†µÌ±ÉÌ†µhÌ∞∂op, for each couple (Ì†µÌ±üRX, Ì†µÌ±üTX), the wake-up period that minimizes Ì†µÌ±ÉÌ†µhÌ∞∂op is computed and used for calculating ŒîÌ†µÌ±ÉÌ†µÌ∞∂.
The WuRx from [28] is considered, which presents data passing capabilities, a minimal power consumption of 196 nW (Ì†µÌ±ÉWuRx), and a maximum sensitivity of ‚àí55 dBm. The hardware preamble length of WUBs is 1 byte, leading to a total WUBs size of 26 bits. The main radio chip is a TI CC1000, and the transmission powers are set to 10 dBm for WUBs and ‚àí5 dBm for non-WUBs frames. WUBs are transmitted at a bitrate of 5 kbps while non-WUBs frames are transmitted at 19.2 kbps. The size of the data frames is set to 30 bytes and the size of ACK frames is set to 8 bytes using 802.15.4 physical layer. In these conditions, the power consumption of the radio chip and the transmission durations of the different frames are shown in Table 1.
Figure 3 shows ŒîÌ†µÌ±ÉÌ†µÌ∞∂ as a function of Ì†µÌ±üTX and Ì†µÌ±üRX. As we can see, ŒîÌ†µÌ±ÉÌ†µÌ∞∂ is always positive which means that the power consumption of 1-hopMAC is always higher than the power consumption of OPWUM. Moreover, the higher is Ì†µÌ±üTX, the greater is the difference. In the next section, exhaustive simulations are used to confirm that using OPWUM allows a significant reduction of the energy consumption.
5. Performance Evaluation
In this section, OPWUM and 1-hopMAC [12] are compared using exhaustive network simulations. A converge-cast tree

6

Journal of Sensors

ŒîPC (mW) Energy consumed by the network (J)

8

7

6

5

4

3

2

1

0

2.0

1.5

rTX (Hz) 1.0 0.5

0.0

0.0

2.0

1.5

1.0

0.5

rRX (Hz)

Figure 3: ŒîÌ†µÌ±ÉÌ†µÌ∞∂ as a function of Ì†µÌ±üTX and Ì†µÌ±üRX.

15

16

17

18

19

10

11

12

13

14

5

6

7

8

9

0

1

2

3

4

Node Sink
Figure 4: Network used to compare OPWUM and 1-hopMAC. Arrows show the potential receivers of each node.

network shown in Figure 4, which is a common scenario in WSN literature, is used.
5.1. Node Modeling and Simulation Settings. We implemented both OPWUM and 1-hopMAC in GreenCastalia [29], an open-source simulation framework for the Castalia/ OMNeT++ simulator [30] that focuses on energy modeling. We implemented a GreenCastalia module to model the WuRx from [28]. The main radio chip, transmission powers, bitrates, and frame lengths are the same as in Section 4.3. All results have been obtained by averaging the outcomes of a number of simulations large enough to obtain 95% confidence interval and 5% precision. Each run lasts 3600 s (simulated time).
5.2. Evaluated Scenario. The network shown in Figure 4 is considered. It is a static multihop network, with multiple sinks, which is widely used in monitoring applications. Given

300

250

200

150

100

50

0

0

10

20

30

40

50

60

TGEN (s)

OPWUM
1-hopMAC TWI = 100 ms 1-hopMAC TWI = 200 ms

1-hopMAC TWI = 300 ms 1-hopMAC TWI = 400 ms

Figure 5: Energy spent by the network as a function of packet generation period Ì†µÌ±áGEN. The contention window is set to 50 ms.

that it is a multihop network, intermediate nodes are in charge of forwarding packets from their immediate predecessors, and their immediate children do so for them. Moreover, every node, except the sinks, generates packets periodically. The packet generation period is denoted by Ì†µÌ±áGEN and is similar for all the nodes. Because opportunistic routing is considered in this work, each node has multiple potential forwarders, shown by the arrows in Figure 4. By using timer-based contention, OPWUM and 1-hopMAC choose the next hop relay among these potential forwarders at each packet transmission attempt. For the latter, different wake-up periods (Ì†µÌ±áWI), ranging from 100 ms to 400 ms, are considered. Moreover, as we do not make any assumption about the state metric from which the contention backoff is computed, the only constraint on the contention backoff is to be in the interval [0, Ì†µÌ∞∑CW]. Therefore, it is chosen uniformly within this interval.
We evaluate the performance of OPWUM and 1hopMAC with respect to the following metrics:
(i) the total energy consumed by the network;
(ii) the Packet delivery ratio (PDR).
5.3. Simulations Results: Energy Consumption. Figure 5 depicts the energy consumed by OPWUM and 1-hopMAC as a function of the packet generation period Ì†µÌ±áGEN, when the contention window Ì†µÌ∞∑CW is set to 50 ms. We observe that the energy consumption of 1-hopMAC depends on the value of Ì†µÌ±áWI. Indeed, in typical WSN scenarios, with relatively low traffic, high values of Ì†µÌ±áWI tend to reduce the energy consumption of 1-hopMAC. OPWUM obtains significant improvement on energy consumption, spending up to 5 times less energy than 1-hopMAC. The only exception is for high traffic, that is, when the packet generation period is less than 5 s. But, as we will see later, the packet delivery ratio of 1-hopMAC collapses to almost 0% when the traffic is high. In Section 4, in order to obtain a lower bound of 1-hopMAC

Journal of Sensors

7

Energy consumed by the network (J)

300

250

200

150

100

50

0 50

100

150

200

DCW (ms)

OPWUM
1-hopMAC TWI = 100 ms 1-hopMAC TWI = 200 ms

1-hopMAC TWI = 300 ms 1-hopMAC TWI = 400 ms

Figure 6: Energy spent by the network as a function of the contention window duration. The packet generation period is set to 30 s.

Delivery ratio

1.1

1.0

0.9

0.8

0.7

0.6

0.5

0.4

0.3

0.2

0.1

0.0

0

10

20

30

40

50

60

TGEN (s)

OPWUM
1-hopMAC TWI = 100 ms 1-hopMAC TWI = 200 ms

1-hopMAC TWI = 300 ms 1-hopMAC TWI = 400 ms

Figure 7: Packet delivery ratio as a function of packet generation period Ì†µÌ±áGEN. The contention window is set to 50 ms.

power consumption, the wake-up period that minimizes the power consumption was computed for each value of (Ì†µÌ±üRX, Ì†µÌ±üTX). In practice, finding the optimal value of Ì†µÌ±áWI is not easy as Ì†µÌ±üTX and Ì†µÌ±üRX are not stationary, and the wake-up period is fixed once for all at the deployment of the network.
Figure 6 shows the energy spent by the network as a function of the contention window duration, when the packet generation period is set to 30 s. We can see that the contention window duration does not affect the power consumption of OPWUM, because all the next hop relay selection phase is done using WUBs only. Regarding 1-hopMAC, the consumed energy slowly increases with the contention window duration. Indeed, during the next hop relay selection phase, the sender must keep its transceiver in RX mode until it receives a CTS from a potential next hop relay. As higher contention window duration increases the average waiting time, it leads to higher energy consumption.
5.4. Simulation Results: Packet Delivery Ratio. The packet delivery ratios of OPWUM and 1-hopMAC are shown in Figure 7 as a function of the packet generation period, when the contention window Ì†µÌ∞∑CW is set to 50 ms. For relatively high traffic, that is, when the packet generation period is less than 10 s, OPWUM outperforms 1-hopMAC. Moreover, the PDR never falls bellow 40% with OPWUM, while it can reach almost 0% with 1-hopMAC. For small traffic rates, that is, when the packet generation period is higher than 10 s, OPWUM performs similarly to 1-hopMAC with Ì†µÌ±áWI set to 100 ms. But as shown in Figure 5, this configuration of 1-hopMAC is highly energy expensive. The other configurations of 1-hopMAC perform significantly worse, even when low traffic is considered. Figure 8 shows the PDR as a function of the contention window duration, when the packet generation period is set to 30 s. We can see that the PDR decreases when the contention window length increases for both protocols, but the decay rate is

Delivery ratio

1.1 1.0 0.9 0.8 0.7 0.6 0.5 0.4 0.3 0.2 0.1 0.0
50

100

150

200

DCW (ms)

OPWUM
1-hopMAC TWI = 100 ms 1-hopMAC TWI = 200 ms

1-hopMAC TWI = 300 ms 1-hopMAC TWI = 400 ms

Figure 8: Packet delivery ration as a function of contention period duration. The packet generation period is set to 30 s.

more significant for 1-hopMAC with high wake-up period. Indeed, longer contention windows increase the chances that neighboring nodes initiate a communication during the contention period, leading to collisions that can cause both communications to fail. Because of the silent state feature of OPWUM, presented in Section 3.4, this scenario is less likely to happen with OPWUM.
6. Application Case: Energy Harvesting Wireless Sensor Networks
In order to illustrate the effectiveness of OPWUM, the context of energy harvesting WSNs is considered. The grid network presented in Figure 9 was implemented in GreenCastalia. In this study case, the nodes of the upper row generate packets

8

Journal of Sensors

(b) (a)

In our future works, we intend to implement OPWUM on real hardware platform in the context of energy harvesting WSNs. In these networks, energy is a scarce resource and harvested energy rate is a highly variable metric that dictates the performance of the nodes. Therefore, keeping nodes informed about the performance of their neighbors is energy costly and we do believe that OPWUM is an ideal candidate to tackle this problem.

Sink Source

Relay

Figure 9: Study case showing the effectiveness of OPWUM.

at an average frequency of one packet every 10 s (the source nodes), while one node gathers the generated packets (the sink node). All the other nodes only serve as relays. Every node, except the sink, is equipped with an energy harvesting device, for example, a solar panel. The nodes located under the clouds (a) and (b) harvest less energy than the other nodes, and the cloud (a) is ‚Äúthinner‚Äù than the cloud (b), meaning that energy harvesting rate of nodes located under the cloud (a) is higher than these of nodes under the cloud (b). The state metric Ì†µÌ±Ä(‚ãÖ) used to compute contention backoffs is the energy harvesting rate, and thus the contention backoff is inversely proportional to the energy harvesting rate; that is, high energy harvesting rate incurs small contention backoff. The simulation lasts for 10000 s (simulated time). The set of potential receivers of each node is set using routing tables, while OPWUM is used to opportunistically choose a forwarder among this set every time a packet needs to be sent. Potential receivers are neighboring nodes on the grid, located either on the same row or on the lower row.
Figure 9 shows the used links. In this figure, thicker arrows show the most used links. As we can see, only a few routing paths contain nodes from the area (a), while no routing paths contain nodes from the area (b). OPWUM enables the nodes to choose the potential receivers which harvest the most energy. As a result, the routing paths bypass the cloudy areas in order to reach the sink, thus allowing nodes to survive periods of energy scarcity.
7. Conclusion
This paper presents OPWUM, a MAC protocol leveraging WuRx in WSNs. WuRx form a promising technology to significantly reduce energy consumption of WSNs. OPWUM allows the nodes that want to send a packet to opportunistically select a receiver among a subset of their neighboring nodes, without requiring any knowledge about them. OPWUM outperforms 1-hopMAC, by spending up to 5 times less energy. Moreover, when relatively high traffic is considered, OPWUM also outperforms 1-hopMAC regarding packet delivery ratio.

Conflict of Interests
The authors declare that there is no conflict of interests regarding the publication of this paper.
References
[1] H. Liu, B. Zhang, H. T. Mouftah, X. Shen, and J. Ma, ‚ÄúOpportunistic routing for wireless ad hoc and sensor networks: present and future directions,‚Äù IEEE Communications Magazine, vol. 47, no. 12, pp. 103‚Äì109, 2009.
[2] V. F. S. Mota, F. D. Cunha, D. F. Macedo, J. M. S. Nogueira, and A. A. F. Loureiro, ‚ÄúProtocols, mobility models and tools in opportunistic networks: a survey,‚Äù Computer Communications, vol. 48, pp. 5‚Äì19, 2014.
[3] L. Cheng, J. Niu, J. Cao, S. K. Das, and Y. Gu, ‚ÄúQoS aware geographic opportunistic routing in wireless sensor networks,‚Äù IEEE Transactions on Parallel and Distributed Systems, vol. 25, no. 7, pp. 1864‚Äì1875, 2014.
[4] Y. WenZhong, H. Chuanhe, W. Bo, Z. Zhenyu, and W. Tong, ‚ÄúA reliable multicast for MANETs based on opportunistic routing and network coding,‚Äù in Proceedings of the IEEE International Conference on Wireless Communications, Networking and Information Security (WCNIS ‚Äô10), Beijing, China, June 2010.
[5] S. Jain and S. R. Das, ‚ÄúExploiting path diversity in the link layer in wireless ad hoc networks,‚Äù Ad Hoc Networks, vol. 6, no. 5, pp. 805‚Äì825, 2008.
[6] Y. Yuan, H. Yang, S. H. Wong, S. Lu, and W. Arbaugh, ‚ÄúROMER: resilient opportunistic mesh routing for wireless mesh networks,‚Äù in Proceedings of the 1st IEEE Workshop on Wireless Mesh Networks (WiMesh ‚Äô05), vol. 12, San Jose, Calif, USA, September 2005.
[7] Y. Yan, B. Zhang, J. Zheng, and J. Ma, ‚ÄúCore: a coding-aware opportunistic routing mechanism for wireless mesh networks,‚Äù IEEE Wireless Communications, vol. 17, no. 3, pp. 96‚Äì103, 2010.
[8] R. Zhang, O. Berder, and O. Sentieys, ‚ÄúEnergy efficient reservation-based opportunistic MAC scheme in multi-hop networks,‚Äù in Proceedings of the IEEE 24th Annual International Symposium on Personal, Indoor, and Mobile Radio Communications (PIMRC ‚Äô13), pp. 1660‚Äì1665, IEEE, London, UK, September 2013.
[9] H. Fu¬®√üler, J. Widmer, M. Ka¬®semann, M. Mauve, and H. Hartenstein, ‚ÄúContention-based forwarding for mobile ad hoc networks,‚Äù Ad Hoc Networks, vol. 1, no. 4, pp. 351‚Äì369, 2003.
[10] A. Bachir and D. Barthel, ‚ÄúLocalized Max-Min remaining Energy Routing for WSN using delay control,‚Äù in Proceedings of the IEEE International Conference on Communications (ICC ‚Äô05), vol. 5, pp. 3302‚Äì3306, May 2005.
[11] F. Ye, G. Zhong, S. Lu, and L. Zhang, ‚ÄúGradient broadcast: a robust data delivery protocol for large scale sensor networks,‚Äù Wireless Networks, vol. 11, no. 3, pp. 285‚Äì298, 2005.

Journal of Sensors

9

[12] T. Watteyne, A. Bachir, M. Dohler, D. Barthel, and I. Auge¬¥Blum, ‚Äú1-hopMAC: an energy-efficient MAC protocol for avoiding 1-hop neighborhood knowledge,‚Äù in Proceedings of the 3rd Annual IEEE Communications Society on Sensor and Ad Hoc Communications and Networks (SECON ‚Äô06), vol. 2, pp. 639‚Äì 644, IEEE, Reston, Va, USA, September 2006.
[13] R. A. F. Mini and A. A. F. Loureiro, ‚ÄúEnergy in wireless sensor networks,‚Äù in Middleware for Network Eccentric and Mobile Applications, pp. 3‚Äì24, Springer, Berlin, Germany, 2009.
[14] I. Demirkol, C. Ersoy, and E. Onur, ‚ÄúWake-up receivers for wireless sensor networks: benefits and challenges,‚Äù IEEE Wireless Communications, vol. 16, no. 4, pp. 88‚Äì96, 2009.
[15] J. Oller, I. Demirkol, J. Casademont, J. Paradells, G. Gamm, and L. Reindl, ‚ÄúHas time come to switch from duty-cycled MAC protocols to wake-up radio for wireless sensor networks?,‚Äù IEEE/ACM Transactions on Networking, In press.
[16] N. A. Pantazis, S. A. Nikolidakis, and D. D. Vergados, ‚ÄúEnergyefficient routing protocols in wireless sensor networks: a survey,‚Äù IEEE Communications Surveys and Tutorials, vol. 15, no. 2, pp. 551‚Äì591, 2013.
[17] A. TrivinÀúo-Cabrera and S. CanÀúadas-Hurtado, ‚ÄúSurvey on opportunistic routing in multihop wireless networks,‚Äù International Journal of Communication Networks and Information Security, vol. 3, no. 2, pp. 170‚Äì177, 2011.
[18] M. Magno and L. Benini, ‚ÄúAn ultra low power high sensitivity wake-up radio receiver with addressing capability,‚Äù in Proceedings of the IEEE 10th International Conference on Wireless and Mobile Computing, Networking and Communications (WiMob ‚Äô14), pp. 92‚Äì99, IEEE, Larnaca, Cyprus, October 2014.
[19] S. J. Marinkovic and E. M. Popovici, ‚ÄúNano-power wireless wake-up receiver with serial peripheral interface,‚Äù IEEE Journal on Selected Areas in Communications, vol. 29, no. 8, pp. 1641‚Äì 1647, 2011.
[20] V. Jelicic, M. Magno, D. Brunelli, V. Bilas, and L. Benini, ‚ÄúAnalytic comparison of wake-up receivers for WSNs and benefits over the wake-on radio scheme,‚Äù in Proceedings of the 7th ACM Workshop on Performance Monitoring and Measurement of Heterogeneous Wireless and Wired Networks (PM2HW2N ‚Äô12), pp. 99‚Äì106, ACM, Paphos, Cyprus, October 2012.
[21] M. Magno, N. Jackson, A. Mathewson, L. Benini, and E. Popovici, ‚ÄúCombination of hybrid energy harvesters with MEMS piezoelectric and nano-Watt radio wake up to extend lifetime of system for wireless sensor nodes,‚Äù in Proceedings of the 26th International Conference on Architecture of Computing Systems (ARCS ‚Äô13), pp. 1‚Äì6, VDE, Prague, Czech Republic, February 2013.
[22] M. Magno, S. Marinkovic, D. Brunelli, E. Popovici, B. O‚ÄôFlynn, and L. Benini, ‚ÄúSmart power unit with ultra low power radio trigger capabilities for wireless sensor networks,‚Äù in Proceedings of the Design, Automation & Test in Europe Conference & Exhibition (DATE ‚Äô12), pp. 75‚Äì80, IEEE, Dresden, Germany, March 2012.
[23] S. Mahlknecht and M. S. Durante, ‚ÄúWUR-MAC: energy efficient wakeup receiver based MAC protocol,‚Äù in Proceedings of the 8th IFAC International Conference on Fieldbuses and Networks in Industrial and Embedded Systems, Ansan, Republic of Korea, May 2009.
[24] M. A. Ameen, N. Ullah, M. S. Chowdhury, and K. Kwak, ‚ÄúA MAC protocol for body area networks using out-of-band radio,‚Äù in Proceedings of the 11th European Wireless Conference 2011‚Äî Sustainable Wireless Technologies (European Wireless ‚Äô11), pp. 1‚Äì 6, VDE, Vienna, Austria, April 2011.

[25] V. R. Ramachandran, B. J. van der Zwaag, N. Meratnia, and P. Havinga, ‚ÄúImplantable body sensor network MAC protocols using wake-up radio‚Äîevaluation in animal tissue,‚Äù in Proceedings of the 9th International Symposium on Medical Information and Communication Technology (ISMICT ‚Äô15), pp. 88‚Äì92, Kamakura, Japan, March 2015.
[26] T. N. Le, M. Magno, A. Pegatoquet, O. Berder, O. Sentieys, and E. Popovici, ‚ÄúUltra low power asynchronous MAC protocol using wake-up radio for energy neutral WSN,‚Äù in Proceedings of the 1st ACM International Workshop on Energy Neutral Sensing Systems (ENSSys ‚Äô13), Roma, Italy, November 2013.
[27] J. Blanckenstein, J. Klaue, and H. Karl, ‚ÄúEnergy efficient clustering using a wake-up receiver,‚Äù in Proceedings of the 18th European Wireless Conference (EW ‚Äô12), pp. 1‚Äì8, IEEE, Poznan, Poland, April 2012.
[28] D. Spenza, M. Magno, S. Basagni, L. Benini, M. Paoli, and C. Petrioli, ‚ÄúBeyond duty cycling: wake-up radio with selective awakenings for long-lived wireless sensing systems,‚Äù in Proceedings of the IEEE Conference on Computer Communications (INFOCOM ‚Äô15), pp. 522‚Äì530, Kowloon, Hong Kong, April 2015.
[29] D. Benedetti, C. Petrioli, and D. Spenza, ‚ÄúGreenCastalia: an energy-harvesting-enabled framework for the castalia simulator,‚Äù in Proceedings of the 1st ACM International Workshop on Energy Neutral Sensing Systems (ENSSys ‚Äô13), ACM, Rome, Italy, November 2013.
[30] A. Boulis, ‚ÄúCastalia: revealing pitfalls in designing distributed algorithms in WSN,‚Äù in Proceedings of the 5th ACM International Conference on Embedded Networked Sensor Systems (SenSys‚Äô07), pp. 407‚Äì408, ACM, Sydney, Australia, November 2007.

International Journal of
Rotating Machinery

Engineering Journal of

Hindawi Publishing Corporation http://www.hindawi.com

Volume 2014

The Scientific World Journal

Hindawi Publishing Corporation http://www.hindawi.com

Volume 2014

Hindawi Publishing Corporation http://www.hindawi.com

Volume 2014

Journal of
Sensors
Hindawi Publishing Corporation http://www.hindawi.com

Volume 2014

International Journal of
Distributed Sensor Networks

Hindawi Publishing Corporation http://www.hindawi.com

Volume 2014

Journal of
Control Science and Engineering

Advances in
Civil Engineering

Hindawi Publishing Corporation http://www.hindawi.com

Volume 2014

Hindawi Publishing Corporation http://www.hindawi.com

Volume 2014

Journal of
Robotics
Hindawi Publishing Corporation http://www.hindawi.com

Volume 2014

Submit your manuscripts at http://www.hindawi.com

Journal of
Electrical and Computer Engineering

Hindawi Publishing Corporation http://www.hindawi.com

Volume 2014

Advances in OptoElectronics

Hindawi Publishing Corporation http://www.hindawi.com

Volume 2014

VLSI Design

Hindawi Publishing Corporation http://www.hindawi.com

Volume 2014

International Journal of
Navigation and Observation
Hindawi Publishing Corporation http://www.hindawi.com

Volume 2014

Modelling & Simulation in Engineering

Hindawi Publishing Corporation http://www.hindawi.com

Volume 2014

International Journal of
Aerospace Engineering

Hindawi Publishing Corporation http://www.hindawi.com

Volume 2014

International Journal of
Chemical Engineering

Hindawi Publishing Corporation http://www.hindawi.com

Volume 2014

International Journal of
Antennas and Propagation
Hindawi Publishing Corporation http://www.hindawi.com

Volume 2014

Active and Passive Electronic Components

Hindawi Publishing Corporation http://www.hindawi.com

Volume 2014

Shock and Vibration

Hindawi Publishing Corporation http://www.hindawi.com

Volume 2014

Advances in
Acoustics and Vibration

Hindawi Publishing Corporation http://www.hindawi.com

Volume 2014

