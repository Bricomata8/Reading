Random Access Channel Design for New Radio

Gwondo Jo, Young Ha Lee
Future Mobile Communication Research Division Electronics and Telecommunications Research Institute
Daejeon, South Korea

Abstractâ€” This paper presents considerations for designing physical random access channel in 5G new radio standard defined in 3GPP. We carried out fixed point link level simulation to see the practical performance in designing modem chip for UE and gNB. In the fixed point simulation, we assumed the sampling rate of 61.44 Msps, 30 kHz subcarrier spacing, 3.7 GHz center frequency, and 40 MHz system bandwidth. To reduce the complexity in the receiver, we employed the alpha max plus beta min algorithm, which is a highspeed approximation of the square root of the sum of two squares. We refers to the performance requirements described in 3GPP TS38.104, which describes the official performance requirements for physical random access channel for new radio. Simulation results indicates that the performance of the designed PRACH module suffices the requirements defined in release 15 at least in additive white Gaussian noise and fading channel with 400 Hz frequency offset.
Keywordsâ€”5G, new radio, random access, simulation
I. INTRODUCTION
PRACH stands for physical random access channel. Random access is the one of the key functions in user equipment (UE). In cellular communication systems, it is required to adjust timing of the uplink frame in order to have alignment with downlink frame in time scale. We a UE in idle state needs connection to the network, UE shall transmit random access preamble. On the reception of preamble, the 5G base station called gNB measures the delay to make the UE advance its transmission time.
Once a user equipment (UE) is synchronized to the downlink transmission after the cell search procedure, it is able to initiates the random access procedure to establish synchronization between the UE and the gNB. Random access procedure is based on the transmission of random access preamble that is randomly selected from all available preambles assigned to the UE. The transmission of random access preamble takes place on the physical random access channel (PRACH) [1]â€“[4].
The rest of the paper is organized as follows: Section II introduces physical random access channel described in 3GPP standards. Section III presents overview of simulator and simulation parameters. Section IV presents simulation results and the performance analysis. Performance over wireless channel models such as AWGN and extended typical urban (ETU) are provided and compared to performance requirements on LTE PRACH. We make concluding remarks with discussion issues for further studies in Section V.
II. PHYSICAL RANDOM ACCESS CHANNEL
Speaking of PRACH, 5G NR is slightly difference from LTE. NR has more options although the overall protocol sequence

would be almost same. LTE PRACH supports 5 kinds of preamble formats [5]-[7]. The format 4 is for TDD only, which is a unique case to employ short sequence while other formats uses long preambles. Unlike the LTE, 5G new radio supports many options for preamble transmission in physical random access channel especially for short preambles, which helps in wide deployment scenarios. Each cell is allowed to use a single preamble format. There are 64 preambles defined in each time frequency PRACH occasion [1], [7].
Short preambles are based on a sequence length L = 139. Nine formats are defined in short preamble sequence. These formats are to support small cell deployment and mmWave frequency range. These preamble formats are used for both FR1 (sub-6 GHz) and FR2 (mmWave) ranges. Subcarrier spacing of 15 or 30 KHz are applicable in FR1, while subcarrier spacing of 60 or 120 KHz are for FR2 [7]. Regardless of the preamble numerology, a short preamble always occupies 12 resource blocks in the frequency domain. For example, a short preamble occupies 4.32 MHz in case of 30 kHz subcarrier spacing. One major difference compared to long preamble is that short preamble can be transmitted multiple times (i.e. multiple RACH occasions exist) within a single RACH slot because short preamble spans only a few OFDM symbols [4].

Format
0 1 2 3 A1 A2 A3 B1 B2 B3 B4 C0 C2

TABLE I.

PREAMBLE FORMATS IN 5G NR

Code Length 839
139

Subcarrier Spacing
1.25 kHz 5 kHz
15âˆ™2ï­ kHz

Symbol Length 24576ï«
2 âˆ™ 24576ï«
4 âˆ™ 24576ï«
4 âˆ™ 6144ï« 2 âˆ™ 2048ï« âˆ™ 2-ï­ 4 âˆ™ 2048ï« âˆ™ 2-ï­ 6 âˆ™ 2048ï« âˆ™ 2-ï­ 2 âˆ™ 2048ï« âˆ™ 2-ï­ 4 âˆ™ 2048ï« âˆ™ 2-ï­ 6 âˆ™ 2048ï« âˆ™ 2-ï­ 12 âˆ™ 2048ï« âˆ™ 2-ï­ 2048ï« âˆ™ 2-ï­ 4 âˆ™ 2048ï« âˆ™ 2-ï­

CP Length 3168ï« âˆ™ 2-ï­ 2 âˆ™ 21024ï« âˆ™ 2-ï­ 4688ï« âˆ™ 2-ï­ 3168ï« âˆ™ 2-ï­ 288ï« âˆ™ 2-ï­ 576ï« âˆ™ 2-ï­ 864ï« âˆ™ 2-ï­ 216ï« âˆ™ 2-ï­ 360ï« âˆ™ 2-ï­ 504ï« âˆ™ 2-ï­ 936ï« âˆ™ 2-ï­ 1240ï« âˆ™ 2ï­ï­ 2048ï« âˆ™ 2-ï­

III. OVERVIEW OF SIMULATOR
A. Simulation Model We carried out fixed point link level simulation with
preamble format A2. Table II denotes simulation assumptions.

978-1-7281-1340-1/19/$31.00 Â©2019 IEEE

674

ICUFN 2019

TABLE II.

SIMULATION PARAMETERS

Parameters Preamble format Sampling rate Subcarrier spacing System bandwidth Carrier frequency Channel
Number of antenna
Number of UE

Data A2 61.44 Msps 30kHz 40MHz 3.7GHz AWGN ETU-70 (400Hz freq. offset) Tx: 1 Rx: 2 4

Fig. 1 illustrates the preamble format A2 which consists of consecutive 4 symbols and a cyclic prefix.
The basic structure of preamble transmitter in UE and preamble detector in gNB, as illustrated in Fig. 2 and 3, applied to the simulation as it is.

detector) when input is only noise. The performance is measured by the required SNR to achieve the probability of detection, Pd of 99%. And the false alarm rate Pfa shall be 0.1% or less [7].
Table III denotes the performance requirements regarding NR PRACH missed detection for normal mode with 30 kHz SCS as defined in 3GPP release 15. The probability of detection shall be equal to or exceed 99% for the SNR levels listed in the table.

TABLE III.
Number of RX
antennas
2

PRACH MISSED DETECTION REQUIREMENTS FOR NORMAL MODE, 30KHZ SCS

Propagation conditions and
correlation matrix
AWGN
TDLC300-100 Low

Frequency offset
0 Hz 400 Hz

Required SNR (dB) Burst format A2 -12.0 -5.8

Fig. 1. Preamble format A2 Fig. 2. Preamble transmitter in UE

C. Squre Root algorithm
The antenna combiner and peak detector in the receiver carry out non-coherent combining to cope with deep fading. It requires square root calculation that increases complexity in hardware. We employed alpha max plus beta min algorithm instead of using conventional square root function to reduce the complexity [8].

The magnitude of a complex number z = a + jb is represented by

|í µí±§í µí±§| = âˆší µí±í µí±2 + í µí±í µí±2

(1)

The alpha max plus beta min algorithm approximates it as

|í µí±§í µí±§| = í µí»¼í µí»¼í µí»¼í µí»¼í µí»¼í µí»¼ + í µí»½í µí»½í µí»½í µí»½í µí»½í µí»½

(2)

where Max is the large absolute value of a and b, and Min is the

small absolute value of a and b. When alpha is 1 and beta is 3/8,

the results shall give a mean error of 4.25% and largest error

6.80%.

Fig. 3. Preamble detector in gNB
B. Performance Requirements in NR According to [7], the performance requirement of NR
PRACH for preamble detector consists of two parameters: The probability of false detection of the preamble (Pfa) and the probability of detection of preamble (Pd). The false alarm probability is the conditional total probability of erroneous detection of the preamble (i.e. erroneous detection from any

IV. SIMULATION RESULTS AND ANALYSIS
A. Effect of alpha max plus beta min algorithm We measured the mean errors resulting from alpha max plus
beta min algorithm in the simulator according to the channel models and SNRâ€™s. As shown in Fig. 4, mean errors stays around the theoretical value of 4.25%, which implies the channel condition does not affect mean errors in the approximation of alpha max plus beta min algorithm.
B. Evaluation of Probabilities We tried 20,000 preamble transmissions for each SNR in the
simulation to get detection probabilities and false alarm probabilities in the figures. Fig. 4 and 5 illustrates missed detection probabilities and false alarm probabilities according to configured SNRâ€™s in AWGN and ETU-70 channel, respectively.
Fig. 5 shows 99.998% detection probability and 0.042% false alarm rate at -12 dB SNR in AWGN channel, which stays

675

above 99% detection probability and below 0.1% false alarm rate. We do see plenty of SNR margin in the figure. We do not see performance degradation due to the approximation by alpha max plus beta min algorithm.

Fig. 6 shows 99.21% detection probability and 0.098% false alarm probability -5.8dB SNR in ETU-70 Low channel model, which stays above 99% detection probability and below 0.1% false alarm rate. We see more than 5 dB SNR margin in the figure. The performance degradation due to the approximation by alpha max plus beta min algorithm cannot be found as well.

Fig. 4. The effect of mean errors by alpha max plus beta min algorithm according to the channel model and SNR

V. CONCLUSIONS
We evaluated the 5G NR PRACH transmitter and detector by using fixed point link level simulator in which AWGN and ETU-70 wireless channel with 400 Hz frequency offset were considered. The impact of alpha max plus beta min algorithm on the performance were evaluated as well.
Simulation results indicates that our design has plenty of SNR margin compared to the performance requirements defined in 3GPP release 15. The use of alpha max plus beta min algorithm to reduce hardware complexity is highly recommended because it has no impact on the overall performance.
The probability of detection and false alarm heavily depend on detection threshold in the preamble receiver. It shall be beneficial to set the threshold adaptive to the channel environment and number of concurrent access from multiple UEâ€™s. Adaptive threshold algorithm, which is already applied to the current simulator, will be presented in the future paper.
The requirements on Time Error Tolerance in PRACH, which 3GPP introduced recently in the standards, are to be investigated in the future study.

Fig. 5. Simulation results in AWGN

ACKNOWLEDGMENT
This work was supported by Institute for Information & communications Technology Promotion(IITP) grant funded by the Korea government(MSIT) (No. 2017-0-00724, Development of Beyond 5G Mobile Communication Technologies (Ultra-Reliable, Low-Latency, and Massive Connectivity) and Combined Access Technologies for Cellularbased Industrial Automation Systems).

Fig. 6. Simulation results in fading channel (400Hz frequence offset)

REFERENCES
[1] Erik Dahlman Stefan Parkvall Johan Skold, 5G NR: The Next Generation Wireless Access Technology, 1st ed., Academic Press, 2018.
[2] (2018) [Online]. Available: www.rfwireless-world.com/5G/5G-NRPRACH.html.
[3] S. H. Lee, S Jung, and J. Kim, â€œDynamic Resource Allocation of Random Access for MTC Devices,â€ ETRI Journal, vol. 39, No. 4, pp. 546â€“557, Aug. 2017.
[4] (2018) [Online]. Available: www.sharetechnote.com.
[5] NR; Physical channels and modulation(TS38.211), 3GPP Std., 2019.
[6] NR; Physical layer procedures for control(TS38.213), 3GPP Std., 2019.
[7] NR; Base Station (BS) radio transmission and reception (TS38.104), 3GPP Std., 2019.
[8] (2019) [online]. Available: https://en.wikipedia.org/wiki/Alpha_max_plus_beta_min_algorithm

676

