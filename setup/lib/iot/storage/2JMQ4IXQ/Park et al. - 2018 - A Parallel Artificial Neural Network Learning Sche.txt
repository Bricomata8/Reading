A Parallel Artificial Neural Network Learning Scheme based on Radio Wave Fingerprint for Indoor
Localization

Chan Uk Park, Hong-Gi Shin, and Yong-Hoon Choi
School of Robotics Kwangwoon University, Seoul, Republic of Korea sau403@gmail.com, ghdrl95@naver.com, yhchoi@kw.ac.kr

Abstract‚Äî Radio wave fingerprinting is known to be the best method for indoor positioning, and its performance depends greatly on the data comparison algorithm that is used. This paper implements a radio wave fingerprint positioning method with artificial neural network learning to improve the performance of a conventional radio fingerprint positioning algorithm based on the Euclidean distance. We propose a parallel learning method to reduce the error in the indoor height and an indoor positioning data augmentation method for data generalization. This method exhibits a higher performance than an existing Euclidean distance based positioning method. In particular, the data augmentation technique can be applied without depending on the specific positioning algorithm.
Keywords‚Äî Indoor Positioning; Aritificial Neural Network (ANN); Deep Learning; Data Augmentation
I. INTRODUCTION
Recently, the demand for more accurate positioning is increasing due to the increase in location-based services. Radio wave fingerprint positioning, which is known to be the best for indoor positioning, converts indoor wireless signal data into a database and compares it to the actual position. To accurately estimate the position, it is important to predict the actual position through the data in the database. Conventional methods estimate the position by comparing the data in the DB to that of the actual position using a mathematical method based on the Euclidean distance. In this paper, we propose an artificial neural network (ANN) learning method that can provide more accurate position estimation. When data is not sufficient and learning is not performed properly, data augmentation approach can improve positioning performance. In addition, we propose a learning structure suitable for indoor positioning. It is possible to confirm the effect of reducing the position error due to the regression problem of the artificial neural network through the learning structure suitable for indoor positioning. The feature of the proposed method can be easily applied in an existing positioning technique, and the position estimation performance can be confirmed to have improved for most positioning algorithms.
The organization of this paper is as follows. Section 2 describes the underlying technologies to help understand the paper. Section 3 describes the techniques proposed in this paper. Section 4 describes the performance evaluation experiments of

the proposed algorithm and the existing positioning algorithms. Finally, we conclude this paper in Section 5.
II. RELATED WORKS
Section 2 describes the relevant techniques in this paper. First, the type of positioning algorithm and position calculation method are described, and the positioning algorithm that uses a comparison of the Euclidean distance, which shows the best performance in radio fingerprinting using existing machine learning, will be described. In addition, we describe the positioning method of radio wave fingerprint using an artificial neural network and explain the points to supplement previous studies.
A. Triangulation method and radio wave fingerprint positioning technique
Existing positioning algorithms can be roughly divided into two methods: prediction through mathematical calculation and radio wave fingerprinting that compares existing positioning data. An example of a prediction method through a mathematical computation is a polygonal metric algorithm that is popularly known as triangulation [1]. However, due to factors such as attenuation and interference of the radio signal in indoor spaces, an accurate distance cannot be known through the strength of the radio signal. The radio wave fingerprinting method is a positioning algorithm in which signals of an access point (AP) are stored in a database and are compared with signals of a corresponding space to be positioned. This is suitable for an indoor space where attenuation and interference of radio signals occur [2].
B. Fingerprint positioning based on Euclidean distance comparison
The algorithm that compares the positioning data with a database is one that has the greatest influence on the accuracy in estimating the position through data in radio wave fingerprint positioning. One of the methods for existing radio fingerprint positioning methods is to compare data with a database by taking the difference of the Euclidean distance [3]. However, as the number of APs in the environment increases, the dimension of the data to be compared increases, and thus the difference in

978-1-5386-4646-5/18/$31.00 ¬©2018 IEEE

794

ICUFN 2018

the Euclidean distance becomes ambiguous [3]. To solve this problem, existing studies have used the logarithmic Gaussian distance to achieve a high performance in high-order AP data [4]. In addition, research has been conducted on a method to classify data of a building to be located using Affinity Propagation Clustering and comparing the meaning distance with the related data [5]. When clustering is performed, the related data can be compared with the data in the cluster, and the size of the dimension comparison can be reduced to decrease the ambiguity in the meaning distance. The above study shows the highest performance in conventional positioning based on Euclidean distance comparison [6]. Therefore, it is used as a benchmark to measure the performance of this paper.
C. Fingerprint positioning technique using an ANN
ANN has been applied to positioning in [7] and [8]. Existing studies have calibrated the channel state information for the deep learning by modifying the driver of the wireless network interface card. Positioning using channel state information (CSI) data provides high location accuracy, but data collection is difficult because the AP hardware needs to be modified. In this paper, positioning is performed based on Received Signal Strength (RSS) data of Wi-Fi AP which is most used in radio wave fingerprint recognition research. Therefore, it has an advantage that it can be directly applied to existing research. Another study that applied ANNs to positioning is a study using a learning network that is a mixture of deep neural network (DNN) and hidden Markov model (HMM) [8]. The application of the learning network can improve positional accuracy within a given data, but the disadvantage is that location accuracy depends on the quality of the learning data. In this paper, we solve the weak point of the previous study by improving the quality of learning data.
III. PROPOSED TECHNIQUE
Section 3 describes the positioning technique proposed in this paper. In this paper, we propose an ANN learning method that can provide more accurate position estimation.
A. Data Augmentation Technique for Location Data
One weakness of ANN is that as learning progresses, the performance of the test decreases due over-fitting of the learning data. To prevent this phenomenon data generalization is performed [9]. In this paper, data generalization is performed using a data augmentation method suitable for wireless signal data.

center of gravity of the triangle ‚ñ≥ (Ì†µÌ±ÉÔøΩ, Ì†µÌ±ÉÔøΩ, Ì†µÌ±ÉÔøΩ) and thus, the equation (1) is satisfied.

Ì†µÌ±ÉÔøΩ(Ì†µÌ±•ÔøΩ,

Ì†µÌ±¶ÔøΩ)

=

Ì†µÌ±ÉÔøΩ

ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ
ÔøΩ

,

ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ ÔøΩ

ÔøΩ

(1)

When the three data (e.g., RSS values) for given points Ì†µÌ±ÉÔøΩ, Ì†µÌ±ÉÔøΩ, and, Ì†µÌ±ÉÔøΩ, are Ì†µÌ∞∑ÔøΩ, Ì†µÌ∞∑ÔøΩ, and, Ì†µÌ∞∑ÔøΩ, the newly added data, Ì†µÌ∞∑ÔøΩ for new point, Ì†µÌ±ÉÔøΩ is calculated by equation (2).

Ì†µÌ∞∑ÔøΩ

=

ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ ÔøΩ

(2)

Since Ì†µÌ±ÉÔøΩ is located at the same distance from Ì†µÌ±ÉÔøΩ, Ì†µÌ±ÉÔøΩ, Ì†µÌ±ÉÔøΩ, the radio signal strength information of Ì†µÌ±ÉÔøΩ is calculated as the average value of radio signal strength of Ì†µÌ±ÉÔøΩ, Ì†µÌ±ÉÔøΩ, Ì†µÌ±ÉÔøΩ. This data augmentation technique can produce the data the most similar
to the actual data in the following situations.

ÔÇ∑ When there is no AP signal in ‚ñ≥ (Ì†µÌ±ÉÔøΩ, Ì†µÌ±ÉÔøΩ, Ì†µÌ±ÉÔøΩ)
ÔÇ∑ When there is no environment that causes attenuation and reflection of radio signal inside ‚ñ≥ (Ì†µÌ±ÉÔøΩ, Ì†µÌ±ÉÔøΩ, Ì†µÌ±ÉÔøΩ)
ÔÇ∑ When Ì†µÌ±ÉÔøΩ, Ì†µÌ±ÉÔøΩ, Ì†µÌ±ÉÔøΩ are on the same floor of a building

However, it is not easy to recognize the location of each AP and the structure of the building with only the data set. Therefore, in this paper, the data augmentation method is performed for the data that exists in the same floor. Algorithm 1 and 2 describes the algorithm for data augmentation. Data Augmentation is performed in order from the first data. Using the data selected in order as a reference point, two data measured in the same floor in the closest order are further selected. After that, triangles are created from the selected 3 points and data expansion is performed. In this case, the information of the triangle used to prevent duplication of data is stored and duplicate inspection is performed in the future. The number of data generated by the above procedure is equal to the number of original data. Therefore, it is possible to obtain twice the learning data including the original data.
In order to test whether the extended data affects the positioning accuracy, several methods were used to perform positioning by using extended data and the original data.

Figure 1. Data Augmentation Scheme for Indoor Positioning Location Data
Figure 1 shows an illustration of the data augmentation technique implemented in this paper. The new point Ì†µÌ±ÉÔøΩ is the

Figure 2. Position Accuracy Based on Data Augmentation Technique
Experimental results show that the data set that performed the data augmentation technique showed high accuracy overall.

795

This proves that effective generalization of the data set has been performed due to the data augmentation technique of this paper.
Algorithm 1. Positioning Data Augmentation

fication and regression problems in radio wave fingerprint positioning.

Algorithm 2. Search Nearest Positioning Data

Figure 3. Classification and regression problem of radio wave fingerprint positioning
The left-hand side of Figure 3 shows an example of radio wave fingerprint positioning of the classification problem. This algorithm is a method for estimating the position of the test data by dividing the place where the positioning is performed into an arbitrary lattice based on the learning data. The right side of Figure 3 shows an example of a regression problem. This algorithm is an algorithm that estimates the location of test data by converting the position of each measured data into x, y coordinates. In this way, positioning the radio wave fingerprint can be approached in two ways of classification and regression. In the case of the classification problems, the performance evaluation is complicated due to the difference in the accuracy depending on the interval of the lattice.
In this paper, we use a classification technique to distinguish the floors of a building, and use regression techniques to estimate locations within the same floor. We perform parallel learning on the x, y and z axes with the following structure as shown in Figure 4.

B. Parallel learning for interlayer identification
The machine learning algorithm can be divided into a classification or a regression problem according to the result value that is to be searched. Figure 3 shows an example of the classi-

Figure 4. Multi-floor parallel learning structure diagram

TABLE I. ACCURACY BASED ON PARALLEL LEARNING

Mean error (m) Remark

5-layer DNN (2D) 7.40
-

5-layer DNN (3D)
7.84
Floor detection error: 0.4m

5-layer P-DNN
7.28
Floor detection probability: 94.4%

796

Table 1 shows the learning accuracy of parallel learning. Experiments were conducted to investigate the difference between 2D positioning performance and 3D positioning performance and the parallel learning positioning performance of this paper when learning the same data set [10] in the same neural network model with the same network structure. Experimental results show that the 3D positioning performance is less accurate than the 2D positioning due to the z-axis error, and the zaxis error can be eliminated when the learning is improved through parallel learning. The parallel learning architecture proposed in this paper can improve the positioning performance by eliminating the errors that occur in the inter-floor division

IV. EXPERIMENT
Section 4 evaluates the performance of the proposed method. The proposed method is compared with the existing indoor positioning methods.
A. Experiment environment The data set used in the experiment is an open data set for indoor positioning studies and consists of 4,648 data collected from 21 devices in the Tampere University building in Finland. It also provides benchmark results for existing positioning algorithms to facilitate future research [10]. Experiments were carried out to measure the error in location estimation accuracy, floor classification performance, and learning time for location estimation for each positioning algorithm.
B. Experiment result

TABLE II. POSITION ACCURACY ACCORDING TO VARIOUS POSITIONING
ALGORITHMS

Algorithm

2D Error (m)

3D Error (m)

Floor Detection Probabil-
ities (%)

5-Layer DNN

7.409

7.84

N/A

Data Augmented 5-Layer PDNN (proposed)
RSS clustering (affinity propagation) [6]
Data Augmented RSS clustering (affinity propagation) [6]
3D clustering (k-means) [6]
Data Augmented 3D clustering (k-means) [6]

6.943 8.086 7.8 14.807 14.495

7.109 8.697 8.4 19.519 19.484

94.40 90.81 91.16 81.54 82.27

The algorithms used in the experiment are the DNN, Parallel DNN (P-DNN), 3D clustering, and RSS clustering. Each algorithm has been tested before and after applying the data

augmentation method proposed in this paper. Experimental results show that the P-DNN that uses the data augmentation algorithm and the parallel learning method proposed in this paper shows the highest performance.
V. CONCLUSION
In this paper, an efficient data augmentation method for indoor positioning and a parallel learning method for floor-tofloor distinction have been proposed. The advantage of this paper is that it does not apply any filter to the RSS data, but it shows better accuracy than the benchmarked conventional positioning study when it is learned only by DNN. The weak point of this study is that the learning accuracy is not always constant and that it takes a lot of learning time to get high accuracy due to the nature of the deep artificial neural network.
ACKNOWLEDGEMENT
This research was supported by Basic Science Research Program through the National Research Foundation (NRF) of Korea funded by the Ministry of Education (NRF2016R1D1A1B03934507).
REFERENCES
[1] M. Armstrong, J. Wright, ‚ÄúMobile call termination in the UK‚Äù, UCL, Sep. 2007.
[2] S. He, S.-H.G. Chan, "Wi-Fi fingerprint-based indoor positioning: Recent advances and comparisons", IEEE Communications Surveys & Tutorials, vol. 18, pp. 466-490, 2016.
[3] C. Feng, W. S. A. Au, S. Valaee, Z. Tan, "Received-signal-strength-based indoor positioning using compressive sensing", IEEE Trans. Mobile Comput., vol. 11, no. 12, pp. 1983-1993, Dec. 2012.
[4] S. Shrestha, J. Talvitie, and E.S. Lohan ‚ÄúDeconvolution-based indoor localization with WLAN signals and unknown access point locations‚Äù, in Proc. of IEEE ICL-GNSS, Jun 2013, Italy
[5] Zengshan Tian, Xiaomou Tang, ‚ÄúFingerprint indoor positioning algorithm based on affinity propagation clustering‚Äù, EURASIP Journal on Wireless Communications and Networking 2013
[6] A. Cramariuc, H. Huttunen, and E.-S. Lohan, ‚ÄúClustering benefits in mobile-centric WiFi positioning in multi-floor buildings,‚Äù in International Conference on Localization and GNSS (ICLGNSS), Jun 2016
[7] Xuyu Wang, Lingjun Gao, Shiwen Mao, Santosh Pandey, "CSI-Based Fingerprinting for Indoor Localization: A Deep Learning Approach", Vehicular Technology IEEE Transactions on, vol. 66, pp. 763-776, 2017, ISSN 0018-9545.
[8] W. Zhang, K. Liu, W. Zhang, Y. Zhang, J. Gu, ‚ÄúWi-Fi positioning based on deep learning, in: International Conference on Information and Automation‚Äù, 2014, pp. 1176‚Äì1179.
[9] C. Zhang, S. Bengio, M. Hardt, B. Recht, O. Vinyals, ‚ÄúUnderstanding deep learning requires rethinking generalization‚Äù, Proceedings of the International Conference on Learning Representations (ICLR) (2017)
[10] Elena Simona Lohan, Helena Lepp√§koski, Philipp Richter, Zhe Peng, ‚ÄúWi-Fi Crowdsourced Fingerprinting Dataset for Indoor Positioning‚Äù, MDPI Data, 2017

797

