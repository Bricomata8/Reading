Adaptive ONU Energy-Saving via Software-Defined Mechanisms in TDMA-PON

Andrew Fernando Pakpahan
Department of Computer Science and Engineering Yuan Ze University, Chung-Li, Taiwan
and Department of Information Technology Universitas Advent Indonesia, Bandung, Indonesia
andrew.pakpahan@gmail.com
Abstract‚ÄîPassive optical network (PON) is a prominent technology in the access network technologies that provides the essential high transmission capacity, ‚Äúfuture-proof‚Äù medium that has penetrated 30-70% of households top countries and thus consumes a significant amount of energy. To satisfy rapidly evolving and newly emerging services, PON devices have to be evolved in order to make them adaptable to the always changing requirements while facilitating energy-saving operations. In this paper, we propose an adaptive software-defined (SD) ONU energy-saving mechanism. We propose to enhance the standard PON devices with advanced SDN capabilities so that an SD-controller can practice its global network knowledge to orchestrate an independent energy-saving mechanism for ONU‚Äôs receiver (Rx) and transmitter (Tx) via the assignment of Rx sleeping duration and Tx wake-up threshold, respectively. In low traffic condition, the proposed mechanism can reduce the ONU‚Äôs transmitter active time up to 98% while still guaranteeing the QoS requirements. We provide system performance evaluation in terms of average delay, throughput, and energy-saving improvement.
Keywords‚ÄîEnergy-saving; PON; SDN;
I. INTRODUCTION
In recent years, researchers have a rising concern for the contribution of information and communication technology (ICT) sector. In particular, communication network accounts for more than 30% of the total ICT energy consumption [1], whereas 70% of it is consumed by the access part of the network [2]. Passive optical network (PON) is a prominent technology in the access network technologies that provides the essential high transmission capacity, ‚Äúfuture-proof‚Äù medium and has less energy consumption among the access network technologies. PON has penetrated 30-70% of households in the top countries since 2015 [3]. However, the worldwide deployment of PON systems still consumes a significant amount of energy. It is estimated that the global power consumption of PON has passed 2.37 TWh annually [4] and would be sufficient to provide power for more than 1 million people. Consequently, next-generation access networks need not only to offer vast capacity, backward compatibility but also low energy consumption. Currently, access network operators have numerous network devices deployed with divergent protocols and vendor-defined functionalities, which make them difficult to maintain and may not dynamically adjustable. Therefore, to satisfy rapidly evolving and newly emerging services, PON devices have to be evolved in order to make them adaptable to the always changing requirements while facilitating energy-saving operations.

I-Shyan Hwang
Department of Computer Science and Engineering Yuan Ze University Chung-Li, Taiwan

PON is generally deployed in a tree topology, as shown in Fig. 1 where at the root of PON system, is an optical line terminal (OLT) resided at the operator‚Äôs central office (CO). The OLT is connected to the trunk of the network, the feeder fiber (FF), which further brings the optical distribution network (ODN) to the far-end of the network nearer to the subscribers. The 1:N passive splitter divides the FF line to multiple distribution drop fiber (DDF)s. From it, the DDF lines reach the leaves of the network, the optical network terminals (ONU)s, located at the customers‚Äô premises. In downstream, the OLT broadcasts the packets through the ODN, which are received by all ONUs. Then, only a particular ONU with a specific logicallink-identifier (LLID) in the downstream traffic may extract the downstream packets. Conversely, in the upstream direction, more complex mechanism is required as multiple ONUs share the upstream wavelength for sending their subscribers‚Äô packets to the OLT. Here, the dynamic bandwidth allocation (DBA) is employed to manage the upstream transmission window for ONUs in the time division multiplexing access (TDMA) manner. After applying the DBA algorithm, the OLT sends specific non-overlapped transmission grants to the ONUs. During the unique timeslot, every ONU has monopoly of the upstream transmission and transmits its subscribers‚Äô packet at full line rate. Therefore, the DBA has an important role in ensuring the necessary quality of service (QoS) requirements and the energy efficiency of the PON system.

Application Plane Application-1

Application-2

...

Application-n

Control Plane

OpenFlow based SDN Controller

Openflow logi cal cont rol link

Data Plane

SD-ONU OpenFlow Switch
C-ONU

SD-OLT OpenFlow Switch
C-OLT

Feeder fiber

1:n Passive Split ter

SD-ONU OpenFlow Switch
C-ONU
SD-ONU OpenFlow Switch
C-ONU

SD-ONU OpenFlow Switch
C-ONU
Fig 1. Software-defined PON architecture

978-1-5386-4646-5/18/$31.00 ¬©2018 IEEE

137

ICUFN 2018

The nature of the TDMA protocol creates a possible means to save energy by reducing the energy consumption from the ONU‚Äôs transmitter. In TDMA-PON, in the upstream direction, only a single ONU can transmit its data at the assigned transmission timeslot, and other ONUs are idle during the waiting time. Thus, to save energy, the inactive ONUs can be shut down temporarily until its allocated transmission timeslot comes. There are four ONU energy-saving techniques based on the ITU-T series-G supplement 45 ‚ÄúGPON power conservation‚Äù [5] for PON power savings: power shedding, dozing, deep sleep and cyclic sleep. In the first method, some of nonessential ONU internal components and functions are turned off while maintaining the optical line link fully functioning. In the second method, the optical transmitter is turned off while the receiver is always on. The third method introduces more energy saving potential, where both the transmitter and receiver are turned off for a defined period. The latter method states that ONU needs to wake up periodically to listen to the downstream transmission. Furthermore, the IEEE‚Äôs SIEPON [6] defines two sleep modes: Tx sleep mode and TRx sleep mode. The first mode is similar to the ITU-T‚Äôs dozing mode, where some of ONU subsystems or components in the transmit path are powered down, while the transmit part remains on. The latter is similar to ITU-T‚Äôs sleep mode, where the ONU subsystems or components in both transmit and receive paths are turned off.
Figure 2 shows the SIEPON based energy-saving operation where ONU-1 is in normal PON operation while ONU-2 is assigned a sleeping duration to save its energy consumption. In every cycle, the OLT calculates the upstream transmission timeslots assignment for all ONUs and assigns them via the GATE grant messages. Based on the REPORT messages, the OLT determines that ONU-2 is eligible for energy-saving. In cycle#2, the OLT orders the ONU-2 to enter energy-saving mode using SLEEP_ALLOW and acknowledged by the ONU using SLEEP_ACK. Immediately after confirming the sleep order, ONU-2 goes to sleep during the assigned sleeping duration. After the sleeping period is completed, ONU-2 turns on its transceiver, waits for the GATE message for sending its buffered packets, and continues normal PON operation. However, the standards do not specify which or when or how ONU components or subsystems are powered down, and more importantly, the energy-saving duration and assignment are left outside of the standard to provide operators flexibility in implementation and operation.
II. RELATED WORKS
There are various researches in finding the optimal sleep duration and mechanism [7-11]. While sleeping, ONU cannot transmit/receive any data to/from OLT, the downstream traffic is buffered inside the OLT‚Äôs buffer and the upstream traffic is buffered inside the ONU‚Äôs one. Naturally, the longer an ONU spends time with fewer components turned on increases the energy-saving performance. Thus, the key to achieving more power saving is to keep the ONUs in low energy mode as long as possible. However, keeping an ONU in sleep in a long time means an ONU can lose synchronization with OLT and thus is disconnected. In [7], the authors propose an optimization of the traffic flow by coupling the downstream and upstream transmissions that propose two scheduling schemes: upstreamcentric scheme (UCS) and downstream-centric scheme (DCS).

Cycle #1 OLT

Cycle #2

Cycle #3

Cycle #n

Cycle #n+1

...

ONU-1

ONU-2

:Energy-saving state : Active state

ONU sleep

Fig. 2. SIEPON based energy-saving scheme.

In UCS, OLT sends the downstream traffic only when ONU sends the upstream traffic, which increases the delay and sleep time. Conversely, in the DCS, ONU sends its packets when there is upstream traffic, thus reducing delay while decreasing the energy-saving performance. However, the UCS/DCS schemes push the packets delay high to conserve energy, and consider not any QoS requirements. QoS aware energy-saving mechanisms have been proposed to reduce energy consumption and guarantee QoS requirements [8,9]. It is done by ordering the ONUs to different sleeping times according to the traffic accumulated in the ONU‚Äôs buffer. To satisfy stringent QoS requirements of delay-sensitive packets, short sleep periods are preferred [10]. Conversely, to enhance energy-saving performance, the sleep periods can be prolonged depending on the operator‚Äôs QoS policy. However, long sleep periods mean that the QoS may be violated. Therefore, an early wake-up mechanism is to exit a sleeping period based on the triggering condition (i.e., packet arrival rate, buffer size, and link speed) [11]. To provide better accuracy for triggering the sleeping time, more granular power efficiency can be achieved by decentralizing the sleep control initiation to the ONUs [12]. However, the aforementioned energy-saving mechanisms are embedded in the PON devices and assumed that the ONU is aware of overall system configuration (i.e., DBA cycle length, guard time, transmission link-rate) while providing no mechanism to deliver this information to the ONU. Moreover, in order to adjust the configuration such as QoS policies requires firmware flashing. Thus, they are not easily adaptable to the changes in the network policies and subscriber‚Äôs requirements. Therefore, the legacy PON architecture needs to be evolved to allow flexible and adaptable energy-saving mechanism.

Software-defined networking (SDN) promises operators better manageability, flexibility, and the lower operational expenditure (OPEX) [13]. In Fig. 1, we show a PON system in SDN perspective; which introduces three layers of network: data plane, control plane, application plane. The control plane in the network device is separated from forwarding functions of the data plane and can be controlled by a single or multiple controllers. The controller has an application programming interface (API) that enables high-level language applications defined in the application plane. The integration of SDN and PON system can bring numerous advantages as various SDN based PON architectures have been proposed and implemented [14-16]. In [14], the authors propose to replace the hard-coded DBA module with a programmable SD DBA that is able to adapt the DBA algorithm with the global information of the network and particular ONU traffic condition. Moreover, SDN can provide a better quality of experience by providing a granular control by acquiring feedback from user applications [15], and the advanced packet filtering function of SDN can be used to

138

enhance the QoS of a precise type of traffic in a PON system [16]. With this enhanced granular controllability, the SDN is adept at bringing more energy-saving capabilities and enhancements to the current PON standards.
In this paper, we propose a new software-defined (SD) ONU energy-saving mechanism, where we propose to integrate PON and SDN technologies by introducing new SD enhanced OLT and ONU architectures to enable the necessary programmability and adaptability to the PON system. We propose to improve the ONU energy-saving by independently managing the ONU‚Äôs transmitter (Tx) and receiver (Rx) using SD Rx sleep time and Tx wake-up queue threshold based on calculation completed in the SD-controller. Moreover, we propose new SD energy-saving DBA algorithm that delivers SD bandwidth allocation to ONUs according to the queue occupancy of the SD-ONU, while still satisfying the QoS requirements.
The rest of this paper is organized as follows: Section III describes the proposed SD PON devices in which new components, functions, signaling, and control are added to the ONU and OLT architectures to orchestrate the ONU energysaving mechanism. Section IV discusses the performance evaluation of the energy-saving mechanism and a comparison of the proposed ONU energy-saving mechanism with a system without energy-saving. Finally, we summarize this paper and present some directions for future work in Section V.
III. PROPOSED SOFTWARE-DEFINED ONU ENERGY-SAVING ARCHITECTURE AND MECHANISM
In this section, we describe the proposed new SD PON devices architectures along with the new SD ONU energysaving mechanism. We propose to enhance standard PON devices with OpenFlow SDN technology and employ the SDcontroller to realize an adaptive SD ONU energy-saving mechanism in the PON system.
A. Proposed SD-PON devices architecture
Figure 3 (a) and (b) show the proposed architecture of SDOLT and SD-ONU, respectively. To ensure the compatibility with standard PON system, they are developed based on the SIEPON‚Äôs [6] S-OLT and S-ONU. The SD-OLT has a transceiver that connects it to the SD-ONUs through the ODN. On the other hand, SD-ONU has an L-ONU, a transceiver that its Tx and Rx can operate independently. The L-OLT and LONU are capable of sending and receiving various types of Ethernet frame: data frames, OAM (operation administration management) frames, or MPCP (multi-point control protocol) frames but without the capability of generating them. NNI and UNI are responsible for connecting the SD-OLT to the larger network and SD-ONU to the subscribers, respectively. Moreover, the power saving block is added in the OAM for turning on/off the transceiver according to the SD-Agent‚Äôs direction.
The SD enhancements in the PON devices are realized by equipping the devices with SD-Agents, flow tables, and energysaving table in the SD-OLT to enable the SD energy-saving operation for the SD-OLT and SD-ONUs. The SD-Agents connect the devices to the SD-controller, enable the SD communication and control via OpenFlow messages. The OpenFlow flow tables are added to provide SD packet

To SD-Controller

SD-OLT SD-Agent

Operation, Administration and Management (OAM)
Power Saving
Energy Saving Table

MAC Control Client
Discovery & Registration SDES-DBA
GATE Generation REPORT Processing

NNI

Flow Table

Flow Table

L-OLT To ONU

To SD-Controller

(a)
SD-ONU SD-Agent

Operation, Administration and Management (OAM)
Power Saving

MAC Control Client
Discovery & Registration GATE Processing
REPORT Generation

To OLT L-ONU

Flow Table

Flow Table

To subUNI scribers

(b) Fig. 3. Proposed SD enhanced PON devices (a) SD-OLT (b) SD-ONU

classification, queueing, forwarding for all input and output ports. Lastly, a new energy-saving table is added to SD-OLT to store the calculated Rx sleeping durations for every eligible SDONUs in the PON system.

B. SD ONU Rx_sleeptime and Tx Wake-up Calculation
The SD-ONU‚Äôs Rx and Tx are capable of working independently. Thus, SD-controller orchestrates the SD-ONU energy-saving by assigning Rx sleeping duration (Rx_sleeptime) and Tx wake-up threshold (Tx_threshold) to SD-ONU.

1) Rx_sleeptime calculation The Rx_sleeptime is calculated as in [12], which is based on
the maximum queue boundary, downstream traffic, link-rate, and the QoS requirements. The SD-controller calculates, Ì†µÌ±áÌ†µÌ±áÌ†µÌ±ÖÌ†µÌ±ÖÌ†µÌ±ÖÌ†µÌ±Ö[Ì†µÌ±áÌ†µÌ±áÌ†µÌ±áÌ†µÌ±á] , the maximum time that a traffic type can tolerate for Rx_sleeptime, and is expressed as Eq. (1):

Ì†µÌ±áÌ†µÌ±áÌ†µÌ±ÖÌ†µÌ±ÖÌ†µÌ±ÖÌ†µÌ±Ö[Ì†µÌ±áÌ†µÌ±áÌ†µÌ±áÌ†µÌ±á] = Ì†µÌ±ÖÌ†µÌ±Ö[Ì†µÌ±áÌ†µÌ±áÌ†µÌ±áÌ†µÌ†µÌ±áÌ±Ñ]Ì†µ‚àíÌ±Ñ[Ì†µÌ†µÌ±áÌ±ÅÌ†µÌ†µÌ±áÌ†µÌ±ÅÌ±áÌ†µÌ†µÌ±ÅÌ±áÌ†µ]Ì±ÅÌ†µ‚àíÌ±ÅÌ†µÌ±Å Ì†µ‚àíÌ±°Ì†µÌ±°‚ÑéÌ†µÌ±üÌ†µÌ†µÌ±üÌ†µÌ±ÖÌ±üÌ†µÌ†µÌ±üÌ†µÌ±ÖÌ±ü[Ì†µÌ±ü‚ÑéÌ†µÌ±áÌ†µÌ±áÌ†µÌ†µÌ±úÌ±áÌ†µÌ†µÌ±úÌ±áÌ†µÌ±ú]Ì†µÌ±úÌ†µ‚àíÌ±úÌ†µÌ±ú Ì†µÌ±ÇÌ†µÌ±ÇÌ†µÌ±ÇÌ†µÌ±Ç,

(1)

where Ì†µÌ±ÑÌ†µÌ±Ñ[Ì†µÌ±áÌ†µÌ±áÌ†µÌ±áÌ†µÌ±á]‚àíÌ†µÌ±°Ì†µÌ±°‚ÑéÌ†µÌ±üÌ†µÌ±üÌ†µÌ±üÌ†µÌ±üÌ†µÌ±üÌ†µÌ±ü‚ÑéÌ†µÌ±úÌ†µÌ±úÌ†µÌ±úÌ†µÌ±úÌ†µÌ±úÌ†µÌ±ú, is the maximum queue boundary for the TT, while Ì†µÌ±ÖÌ†µÌ±Ö[Ì†µÌ±áÌ†µÌ±áÌ†µÌ±áÌ†µÌ±á]‚àíÌ†µÌ±ÅÌ†µÌ±ÅÌ†µÌ±ÅÌ†µÌ±ÅÌ†µÌ±ÅÌ†µÌ±Å , and Ì†µÌ±ÖÌ†µÌ±Ö[Ì†µÌ±áÌ†µÌ±áÌ†µÌ±áÌ†µÌ±á]‚àíÌ†µÌ±ÇÌ†µÌ±ÇÌ†µÌ±ÇÌ†µÌ±Ç are incoming and outgoing traffic. Then, to avoid QoS violation, the Rx_sleeptime is chosen from the minimum value of all the Ì†µÌ±áÌ†µÌ±áÌ†µÌ±ÖÌ†µÌ±ÖÌ†µÌ±ÖÌ†µÌ±Ö[Ì†µÌ±áÌ†µÌ±áÌ†µÌ±áÌ†µÌ±á] .

2) Tx_threshold calculation The SD-controller calculates the average of PON cycle time
in 10 recent cycles, , Ì†µÌ±áÌ†µÌ±áÌ†µÌ±êÌ†µÌ±êÌ†µÌ±êÌ†µÌ±êÌ†µÌ±êÌ†µÌ±ê_Ì†µÌ±éÌ†µÌ±éÌ†µÌ±éÌ†µÌ±éÌ†µÌ±éÌ†µÌ±é where a cycle time is the time needed for all ONUs to complete their assigned transmission timeslots. Then, the Ì†µÌ∞∂Ì†µÌ∞∂[Ì†µÌ±áÌ†µÌ±áÌ†µÌ±áÌ†µÌ±á]Ì†µÌ±§Ì†µÌ±§Ì†µÌ±§Ì†µÌ±§ , is calculated as in Eq. (2), which is the number of cycles that the packets spent in the queue until the QoS requirement for the TT, , Ì†µÌ±áÌ†µÌ±áÌ†µÌ±áÌ†µÌ±áÌ†µÌ±ÑÌ†µÌ±ÑÌ†µÌ±ÑÌ†µÌ±Ñ_Ì†µÌ±üÌ†µÌ±üÌ†µÌ±üÌ†µÌ±üÌ†µÌ±üÌ†µÌ±ü is reached.

Ì†µÌ∞∂Ì†µÌ∞∂[Ì†µÌ±áÌ†µÌ±áÌ†µÌ±áÌ†µÌ±á]Ì†µÌ±§Ì†µÌ±§Ì†µÌ±§Ì†µÌ±§

=

Ì†µÌ±áÌ†µÌ±áÌ†µÌ±áÌ†µÌ±áÌ†µÌ±ÑÌ†µÌ±ÑÌ†µÌ±ÑÌ†µÌ±Ñ_Ì†µÌ±üÌ†µÌ±üÌ†µÌ±üÌ†µÌ±üÌ†µÌ±üÌ†µÌ±ü Ì†µÌ±áÌ†µÌ±áÌ†µÌ±êÌ†µÌ±êÌ†µÌ±êÌ†µÌ±êÌ†µÌ±êÌ†µÌ±ê_Ì†µÌ±éÌ†µÌ±éÌ†µÌ±éÌ†µÌ±éÌ†µÌ±éÌ†µÌ±é

.

(2)

We propose to set independent initial Tx_thresholds for each traffic type, Ì†µÌ±áÌ†µÌ±áÌ†µÌ±•Ì†µÌ±•Ì†µÌ±ñÌ†µÌ±ñ_Ì†µÌ±°Ì†µÌ±°‚Ñé[Ì†µÌ±áÌ†µÌ±áÌ†µÌ±áÌ†µÌ±á], is expressed as Eq. (3):

139

Ì†µÌ±áÌ†µÌ±áÌ†µÌ±•Ì†µÌ±•Ì†µÌ±ñÌ†µÌ±ñÌ†µÌ±ñÌ†µÌ±ñÌ†µÌ±ñÌ†µÌ±ñÌ†µÌ±ñÌ†µÌ±ñÌ†µÌ±ñÌ†µÌ±ñÌ†µÌ±ñÌ†µÌ±ñÌ†µÌ±ñÌ†µÌ±ñ_‚ÑéÌ†µÌ±ôÌ†µÌ±ô[Ì†µÌ±áÌ†µÌ±áÌ†µÌ±áÌ†µÌ±á] = 1.5 √ó (Ì†µÌ±ÉÌ†µÌ±ÉÌ†µÌ±ñÌ†µÌ±ñÌ†µÌ±ñÌ†µÌ±ñ_Ì†µÌ±éÌ†µÌ±éÌ†µÌ±éÌ†µÌ±é[Ì†µÌ±áÌ†µÌ±áÌ†µÌ±áÌ†µÌ±á]) √ó Ì†µÌ∞∂Ì†µÌ∞∂[Ì†µÌ±áÌ†µÌ±áÌ†µÌ±áÌ†µÌ±á]Ì†µÌ±§Ì†µÌ±§ ,

(3)

where, Ì†µÌ±ÉÌ†µÌ±ÉÌ†µÌ±ñÌ†µÌ±ñÌ†µÌ±ñÌ†µÌ±ñ_Ì†µÌ±éÌ†µÌ±éÌ†µÌ±éÌ†µÌ±é[Ì†µÌ±áÌ†µÌ±áÌ†µÌ±áÌ†µÌ±á] is the average incoming traffic for the TT.

Lastly, the Tx_threshold, , Ì†µÌ±áÌ†µÌ±áÌ†µÌ±•Ì†µÌ±•‚ÑéÌ†µÌ±ôÌ†µÌ±ô[Ì†µÌ±áÌ†µÌ±áÌ†µÌ±áÌ†µÌ±á] is calculated as Eq. (4):

Ì†µÌ±áÌ†µÌ±áÌ†µÌ±•Ì†µÌ±•‚ÑéÌ†µÌ±ôÌ†µÌ±ô[Ì†µÌ±áÌ†µÌ±áÌ†µÌ±áÌ†µÌ±á] = min( Ì†µÌ±áÌ†µÌ±áÌ†µÌ±•Ì†µÌ±•Ì†µÌ±ñÌ†µÌ±ñÌ†µÌ±ñÌ†µÌ±ñÌ†µÌ±ñÌ†µÌ±ñÌ†µÌ±ñÌ†µÌ±ñÌ†µÌ±ñÌ†µÌ±ñÌ†µÌ±ñÌ†µÌ±ñÌ†µÌ±ñÌ†µÌ±ñ_‚ÑéÌ†µÌ±ôÌ†µÌ±ô[Ì†µÌ±áÌ†µÌ±áÌ†µÌ±áÌ†µÌ±á], Ì†µÌ±ÑÌ†µÌ±ÑÌ†µÌ±öÌ†µÌ±öÌ†µÌ±öÌ†µÌ±ö[Ì†µÌ±áÌ†µÌ±áÌ†µÌ±áÌ†µÌ±á] ‚àí Ì†µÌ±ÉÌ†µÌ±É ), Ì†µÌ±ñÌ†µÌ±ñÌ†µÌ±éÌ†µÌ±éÌ†µÌ±éÌ†µÌ±éÌ†µÌ±éÌ†µÌ±é[Ì†µÌ±áÌ†µÌ±áÌ†µÌ±áÌ†µÌ±á]

(4)

where, Ì†µÌ±ÑÌ†µÌ±ÑÌ†µÌ±öÌ†µÌ±öÌ†µÌ±öÌ†µÌ±ö[Ì†µÌ±áÌ†µÌ±áÌ†µÌ±áÌ†µÌ±á] is the maximum queue size for the TT.

C. SD Energy-Saving DBA (SDES-DBA)
We propose to equip the SD-OLT with SD energy-saving DBA (SDES-DBA) to dynamically allocate the upstream bandwidth to each SD-ONU. The SDES-DBA is based on enhanced offline interleaved polling adaptive cycle algorithm. The SD-OLT begins the bandwidth allocation computation after collecting the REPORT messages from all SD-ONUs. Before executing the bandwidth assignment algorithm, the DBA checks the energy-saving table to obtain the information of SD-ONUs in energy-saving mode. Then, the SDES-DBA calculates the available bandwidth for all ONUs (Ì†µÌ∞µÌ†µÌ∞µÌ†µÌ±éÌ†µÌ±éÌ†µÌ±éÌ†µÌ±éÌ†µÌ±éÌ†µÌ±é) and is calculated as Eq. (5).

Ì†µÌ∞µÌ†µÌ∞µÌ†µÌ±éÌ†µÌ±éÌ†µÌ±éÌ†µÌ±éÌ†µÌ±éÌ†µÌ±é = Ì†µÌ±áÌ†µÌ±áÌ†µÌ±áÌ†µÌ±áÌ†µÌ±ôÌ†µÌ±ô_Ì†µÌ±üÌ†µÌ±ü √ó (Ì†µÌ±áÌ†µÌ±áÌ†µÌ±êÌ†µÌ±êÌ†µÌ±êÌ†µÌ±êÌ†µÌ±êÌ†µÌ±ê ‚àí Ì†µÌ±ÅÌ†µÌ±Å √ó Ì†µÌ±îÌ†µÌ±î) ‚àí Ì†µÌ±ÅÌ†µÌ±Å √ó 512,

(5)

where Ì†µÌ±áÌ†µÌ±áÌ†µÌ±áÌ†µÌ±áÌ†µÌ±ôÌ†µÌ±ô_Ì†µÌ±üÌ†µÌ±ü is the link-rate of the PON system, Ì†µÌ±áÌ†µÌ±áÌ†µÌ±êÌ†µÌ±êÌ†µÌ±êÌ†µÌ±êÌ†µÌ±êÌ†µÌ±ê denotes the maximum cycle time, Ì†µÌ±îÌ†µÌ±î is the guard time, Ì†µÌ±ÅÌ†µÌ±Å is the number of ONUs, and the control message length is 512 bits (64 bytes). Then, the maximum transmission window for an ONU (Ì†µÌ±äÌ†µÌ±äÌ†µÌ±öÌ†µÌ±öÌ†µÌ±öÌ†µÌ±ö), is calculated as Eq. (6)

Ì†µÌ±äÌ†µÌ±äÌ†µÌ±öÌ†µÌ±öÌ†µÌ±öÌ†µÌ±ö

=

Ì†µÌ∞µÌ†µÌ∞µÌ†µÌ±éÌ†µÌ±éÌ†µÌ±éÌ†µÌ±éÌ†µÌ±éÌ†µÌ±é Ì†µÌ±ÅÌ†µÌ±Å

.

(6)

The SDES-DBA assigns upstream transmission timeslot to the active SD-ONUs and gratuitous grant for SD-ONUs in energy-saving mode. The Ì†µÌ±äÌ†µÌ±äÌ†µÌ±öÌ†µÌ±öÌ†µÌ±öÌ†µÌ±ö are allocated to the active SDONUs and distributed for each TT depending on the traffic priority, where higher priority traffic is satisfied first and the remaining Ì†µÌ∞µÌ†µÌ∞µÌ†µÌ±éÌ†µÌ±éÌ†µÌ±éÌ†µÌ±éÌ†µÌ±éÌ†µÌ±é is assigned to lower priority traffic. There are two information contains in the gratuitous grant assigned to the SD-ONU in energy-saving: listening time and transmission time. The listening time is the time for SD-ONU to turn on its Rx to receive the next gratuitous grant message. While the gratuitous transmission time is used by SD-ONU‚Äôs Tx to exit the energy-saving mode and only enough for transmitting a REPORT message. Below, we provide the pseudocode of the proposed SDES-DBA.

Pseudocode of SDES-DBA:
//Calculate the Bavailable and Wmax in each cycle for each ONUi not in energy-saving do {
// i = index of ONUs; j = index of priority-queue; for each queue#[j] do { //Highest priority first if (Wmax > queue#[j]_REPORT_ONUi) {
GRANT_ONU[i] = queue#[j]; } else {
GRANT_ONU[i] = Wmax; } Wmax = Wmax - GRANT_ONU[i]; } } for ONU in energy-saving do { GRANT_ONU[i]=GRATUITOUS_LISTEN_TIME; GRANT_ONU[i]=GRATUITOUS_TRANSMIT_TIME; }

D. SD ONU Energy-Saving Operation
Figure 4 shows the proposed SDES operation, we propose to decouple the SD-ONU‚Äôs Tx and Rx condition; SD-ONU can turn on/off its Tx and Rx independently; the default condition of SD-ONU‚Äôs Tx is off and the Rx is off. The SD-controller starts the PON operation using a standard MPCP mechanism and registers the SD-ONUs to the SD-OLT. Once all of the active SD-ONUs registered, the SD-Agents can communicate with the SD-controller using the OpenFlow messages. The SD-controller populates the SD-ONU flow tables‚Äô entries to enable granular packet classification to different queues. When a packet enters the system, it is matched against the flow table entries and classified into three traffic types (TT): EF (high priority), AF (medium priority) and BE (low priority).
Statistic collection and calculation: To collect and report traffic statistics, OFPIT_STAT_TRIGGER and OFPIT_STAT_REPLY messages are used, respectively. The messages are used for both the SD-OLT and SD-ONU. The retrieved statistic information is used by the SD-controller to calculate the Tx_threshold and the Rx_sleeptime.
Tx_threshold assignment and operation: Because the default condition of SD-ONU‚Äôs Tx is off, the Tx_threshold holds important information when to activate the SD-ONU‚Äôs Tx. When a packet enters the SD-ONU, it is buffered in the queues. If the SD-ONU detects that its buffer condition has passed the assigned Tx_threshold, the SD-ONU turns on the Tx in the next gratuitous timeslot and sends a REPORT message to the SDOLT. Upon receiving the message, the SD-OLT allocates a transmission timeslot to the SD-ONU by sending a GATE message. Then, the SD-ONU can send its buffered data in the allocated transmission timeslot.
Rx energy-saving assignment and operation: To achieve SDONU‚Äôs Rx energy-saving, the SD-controller populates the energy-saving table entries in the SD-OLT with Rx_sleeptime for eligible SD-ONUs. Then, the SD-OLT sends this Rx_sleeptime through a SLEEP_ALLOW message to the SDONU. After receiving the sleeping order, the SD-ONU‚Äôs Rx goes into sleep mode, while the Tx acknowledges the sleeping order by sending SLEEP_ACK. While sleeping, the SD-ONU‚Äôs Rx needs to exit the sleep mode in every cycle for a short time to collect gratuitous GATE message. The SD-ONU turns on its Rx at the assigned listening time received in the previous grant message. In every cycle, the SD-ONU receives a gratuitous GATE message that is used for time synchronization and acknowledging the next available gratuitous transmission timeslot. The gratuitous listening time is also can be used to order the SD-ONU‚Äôs Rx to exit the energy-saving mode.

Cycle #1 OLT

Cycle #2

Cycle #3

Cycle #n

Cycle #n+1

...

ONU Tx

ONU Rx

:Energy-saving state : Active state
Fig. 4. Proposed SD ONU energy-saving signaling and operation.

140

IV. SYSTEM PERFORMANCE
We analyzed the proposed mechanism in terms of average delay, throughput, and energy-saving improvement. In the simulation, the proposed SD ONU energy-saving (SDES), was compared with IPACT (interleaved polling with adaptive cycle time) a system without any energy-saving mechanism and Green [12], a system with non SD energy-saving mechanism. The proposed architecture and mechanism was modeled using an OPNET simulator with 32 SD-ONUs and an SD-OLT. The SDOLT and SD-ONUs were uniformly distributed at distances between 10 km and 20 km, and the SD-ONU buffer size was 10 Mb. The maximum transmission cycles were 1.5 ms, and selfsimilarity and long-range dependence were used as the network traffic model for the AF and BE traffic, respectively. Table I shows the complete simulation parameters. The model generated high-burst AF and BE traffic with a Hurst parameter of 0.7 and a packet size uniformly distributed between 64 and 1,518 bytes. The EF traffic was based on a Poisson distribution with fixed packet size (70 bytes). To show the adaptability of the proposed system in accommodating changes in operators‚Äô policies, we modeled the system to satisfy two QoS requirements, scenario A and B. Scenario A simulated a condition where the QoS requirements for EF and AF packets were 5 ms and 10 ms, respectively. Scenario B simulated a condition where the QoS requirements for EF and AF packets were 2 ms and 5 ms, respectively. Moreover, there were two traffic profiles simulated: 154 and 244. In the first traffic profile, 154, EF occupied 10%, AF occupied 50%, and BE occupied 40% of the generated traffic. In the second traffic profile, 244, EF occupied 20%, AF occupied 40%, and BE occupied 40% of the generated traffic.
A. Mean Packet Delay
Figure 6 shows the average packet delay for the EF and AF packets in different scenarios. The packets delays in the SDES conform to the corresponding QoS configurations of the SD controller: scenario A had higher packet delays compared to the scenario B. When the traffic load was low, the SDES had higher delays compared to the IPACT. This was because to save energy; the SD-ONU had to turn off its Tx until the assigned Tx_threshold had been passed. However, when the traffic load of the system was high, the SDES and IPACT had the same delay performance because the incoming traffic was high there was no energy-saving chance to maintain the necessary QoS.
B. Throughput
Figure 7 shows the system throughput versus offered load. The system throughput of the SDES in all scenarios was almost the same as the original IPACT. This means the proposed SDES can perform as well as the non energy-saving architecture in term of throughput performance.
C. Comparison with Non-SD ONU Energy-Saving Mechanism
In this subsection, we evaluate the proposed SDES compared to Green energy-saving mechanism. In the Green energy-saving mechanism, once the energy-saving configuration is set and the ONUs are deployed at the subscribers‚Äô premises, the energysaving configuration cannot be adaptively changed. Moreover, when both systems were configured using the same parameters

TABLE I. SIMULATION PARAMETERS

Parameters

Value

Number of ONUs Up/down link rate OLT‚ÄìONU distance ONU buffer size Maximum transmission cycle time

32 1 Gbps 10‚Äì20 km 10 Mb 1.5 ms

Guard time DBA computation time Control message length

5 ÔÅ≠s 10 ÔÅ≠s 64 bytes

Energy consumption in active mode

3.85 W

Energy consumption in Tx and Rx off

1.08 W

Energy consumption in Tx off

1.7 W

(a)
(b) Fig. 6. Mean packet delay comparison of IPACT and SDES in different
scenarios. (a) EF delay (b) AF delay
Fig. 7. Throughput comparison of IPACT and SDES in different traffic scenarios.
in the scenario A, the SDES had lower delay and higher energysaving performance, as can be seen in Fig. 8 and Fig. 9. The SDES has lower delay because the SD-ONU can exit the sleeping mode faster without waiting until the assigned sleeping time assignment is over and consumes less energy because the SD-ONU‚Äôs Tx condition is decoupled from the Rx and only turns on when the Tx threshold is passed.

141

Fig. 8. EF delay comparison between Green and SDES in different traffic scenarios.
V. CONCLUSION
In this paper, we have proposed an adaptive SD ONU energy-saving mechanism in a TDMA-PON system. We have proposed new SD-OLT and SD-ONU architectures that evolve the PON system to support the SDN technology. Moreover, the proposed SD-ONU‚Äôs transceiver is decoupled and can maintain an independent state of its Tx and Rx. The SD-controller uses its global knowledge of network condition to orchestrate the SDONU‚Äô Rx sleeping duration and the Tx wake-up threshold adaptively according to the traffic condition. In low traffic load, the proposed mechanism can reduce the ONU‚Äôs Tx active time up to 98% while still guaranteeing the QoS requirements. Simulation results show that the proposed architecture can satisfy different QoS requirements in terms of average delay, throughput, and packet loss. In our near future work, we plan to improve the overall PON energy-saving performance with optimizing the SD sleeping duration and Tx wake-up threshold. Moreover, we plan to implement the SD ONU energy-saving mechanism in more challenging multi-tenancy system, where the PON system may be separated into different virtual PON (VPON)s and different QoS policies may be implemented in each VPON.
REFERENCES
[1] B. Lannoo, Energy Consumption of ICT Networks. TREND Final Workshop, 2013.
[2] Y. Zhang, P. Chowdhury, M. Tornatore, and B. Mukherjee, ‚ÄúEnergy Efficiency in Telecom Optical Networks,‚Äù IEEE Communications Surveys Tutorials, vol. 12, no. 4, pp. 441‚Äì458, Fourth 2010.
[3] E. Aker, V. Chailllou, Calling for a brighter future, in: Press Conf. at FTTH Conf., 2016. White Paper.
[4] S. Nishihara et al., ‚ÄúPower-saving methods with guaranteed service interoperability in ethernet passive optical networks,‚Äù IEEE Communications Magazine, vol. 50, no. 9, pp. 110‚Äì117, Sep. 2012.

Fig. 9. Tx energy-saving improvement comparison between Green and SDES in different traffic scenarios.
[5] GPON Power Conservation, ITU-T Series G Supplement 45.
[6] ‚ÄúIEEE Standard for Service Interoperability in Ethernet Passive Optical Networks (SIEPON),‚Äù IEEE Std 1904.1-2013, Sept. 2013.
[7] Y. Yan, S.W. Wong, L. Valcarenghi, S.H. Yen, D.R. Campelo, S. Yamashita, L. Kazovsky and L. Dittmann, ‚ÄúEnergy management mechanism for Ethernet passive optical networks (EPONs),‚Äù in IEEE International Conference on Communications, pp. 1‚Äì5, May 2010.
[8] A. Nikoukar, I.S. Hwang, A.T. Liem, and C.J. Wang, ‚ÄúQoS-aware energyefficient mechanism for sleeping mode ONUs in enhanced EPON,‚Äù Photonic Network Communication, vol. 30, no. 1, pp. 59‚Äì70, Aug. 2015.
[9] F. Y. M. Alaelddin, S. H. S. Newaz, F. AL-Hazemi, and J. K. Choi, ‚ÄúGrant management procedure for energy saving TDM-PONs,‚Äù Optical Fiber Technology, vol. 40, pp. 118‚Äì129, Jan. 2018.
[10] S. Petridou, S. Basagiannis, and L. Mamatas, ‚ÄúFormal Methods for Energy-Efficient EPONs,‚Äù IEEE Transactions on Green Communications and Networking, vol. PP, no. 99, pp. 1‚Äì1, 2017.
[11] A. F. Y. Mohammed, S. H. S. Newaz, M. R. Uddin, G. M. Lee, and J. K. Choi, ‚ÄúEarly wake-up decision algorithm for ONUs in TDM-PONs with sleep mode,‚Äù IEEE/OSA Journal of Optical Communications and Networking, vol. 8, no. 5, pp. 308‚Äì319, May 2016.
[12] I.S. Hwang, A. Nikoukar, Y.M. Su, and A.T. Liem, ‚ÄúDecentralized SIEPON-based ONU-initiated Tx/TRx energy-efficiency mechanism in EPON,‚Äù IEEE/OSA Journal of Optical Communications and Networking, vol. 8, no. 4, pp. 238‚Äì248, Apr. 2016.
[13] E. Hernandez-Valencia, S. Izzo, and B. Polonsky, ‚ÄúHow will NFV/SDN transform service provider opex?,‚Äù IEEE Network, vol. 29, no. 3, pp. 60‚Äì 67, 2015.
[14] C. Li, W. Guo, W. Wang, W. Hu, and M. Xia, ‚ÄúProgrammable bandwidth management in software-defined EPON architecture,‚Äù Optics Communications, vol. 370, pp. 43‚Äì48, July 2016.
[15] D. Chitimalla, S. Thota, S.S. Savas, S.S. Lee, H.H. Lee, S. Park, and B. Mukherjee, ‚ÄúApplication-aware software-defined EPON upstream resource allocation,‚Äù in Optical Fiber Communication Conference, 2015, pp. 1‚Äì3, Th2A55.
[16] A.T. Liem, I.S. Hwang, A. Nikoukar, C.Z. Yang, M.S. Ab-Rahman, and C.H. Lu, ‚ÄúP2P live-streaming application-aware architecture for QoS enhancement in the EPON,‚Äù to appear at IEEE Systems Journal, 2018.

142

