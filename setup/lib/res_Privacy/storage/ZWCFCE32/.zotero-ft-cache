Differential Privacy for Graphs and Social Networks
Sofya	 Â Raskhodnikova	 Â 
Penn	 Â State	 Â University,	 Â  on	 Â sabba1cal	 Â at	 Â BU	 Â for	 Â 2013-Â­â€2014	 Â privacy	 Â year	 Â 
1

Publishing information about graphs

Many	 Â types	 Â of	 Â data	 Â can	 Â be	 Â represented	 Â as	 Â graphs	 Â 

â€¢â€¯ â€œFriendshipsâ€	 Â in	 Â online	 Â social	 Â network	 Â 

â€¢â€¯ Financial	 Â transac4ons	 Â 

â€¢â€¯ Email	 Â communica4on	 Â 

â€¢â€¯ Health	 Â networks	 Â (of	 Â doctors	 Â and	 Â pa4ents)	 Â 

â€¢â€¯ Roman4c	 Â rela4onships	 Â 

image source http://community.expressorsoftware.com/blogs/mtarallo/36-extracting-datafacebook-social-graph-expressor-tutorial.html

American J. Sociology, Bearman, Moody, Stovel

Privacy is a big issue!
2

Whoâ€™d want to de-anonymize a social network graph?

image sources Â© Depositphotos.com/fabioberti.it, Andrew Joyner, http://dukeromkey.com/

3

Some published attacks
â€“â€¯Social	 Â networks	 Â 	 Â 
	 Â [Backstrom	 Â Dwork	 Â Kleinberg	 Â 07,	 Â 	 Â  	 Â Narayanan	 Â ShmaCkov	 Â 09,	 Â Narayanan	 Â Shi	 Â Rubinstein	 Â 12]	 Â 
	 Â 
â€“â€¯Computer	 Â networks	 Â 
	 Â [Coull	 Â Wright	 Â Monrose	 Â Collins	 Â Reiter	 Â 07,	 Â 	 Â 	 Â 
	 Â Ribeiro	 Â Chen	 Â Miklau	 Â Townsley	 Â 08]	 Â 
Can reidentify individuals based on external sources.
	 Â 
4

Differential privacy (for graph data)

Graph G

Trusted curator

A

( queries
answers

Users
Government,
) researchers, businesses (or) malicious adversary

Diï¬€eren4al	 Â privacy	 Â [Dwork	 Â McSherry	 Â Nissim	 Â Smith	 Â 06]	 Â  An	 Â algorithm	 Â A	 Â is	 Â í µí½-Â­â€diï¬€erenCally	 Â private	 Â if	 Â 	 Â  for	 Â all	 Â pairs	 Â of	 Â neighbors	 Â í µí±®, Â í µí±®â€²	 Â and	 Â all	 Â sets	 Â of	 Â answers	 Â S:	 Â 
â€‹í µí±·í µí²“â [í µí±¨(í µí±®)âˆˆí µí±º]âŸâ‰¤â€‹í µí²†â†‘í µí½âŸí µâ€‹ í±·í µí²“â [í µí±¨(â€‹í µí±®â†‘â€²âŸ)âˆˆí µí±º]âŸ

image source http://www.queticointernetmarketing.com/new-amazing-facebook-photo-mapper/

5

Two variants of differential privacy for graphs

â€¢â€¯ Edge	 Â diï¬€erenCal	 Â privacy	 Â 

	 Â 

G:

Gâ€²:

	 Â 
Two	 Â graphs	 Â are	 Â neighbors	 Â if	 Â they	 Â diï¬€er	 Â in	 Â one	 Â edge.	 Â 

â€¢â€¯ Node	 Â diï¬€erenCal	 Â privacy	 Â 

	 Â 

G:

Gâ€²:

	 Â 
Two	 Â graphs	 Â are	 Â neighbors	 Â if	 Â one	 Â can	 Â be	 Â obtained	 Â from	 Â the	 Â other	 Â  by	 Â deleCng	 Â a	 Â node	 Â and	 Â its	 Â adjacent	 Â edges.	 Â 
6

Differentially private analysis of graphs

Graph G

Trusted curator

A

( queries
answers

Users
Government,
) researchers, businesses (or) malicious adversary

â€¢â€¯ Two	 Â conï¬‚ic4ng	 Â goals:	 Â uClity	 Â and	 Â privacy	 Â 

â€“â€¯ Impossible	 Â to	 Â get	 Â both	 Â in	 Â the	 Â worst	 Â case	 Â 

â€¢â€¯ Want:	 Â diï¬€erenCally	 Â private	 Â algorithms	 Â that	 Â are	 Â 

accurate	 Â on	 Â realisCc	 Â graphs	 Â 

â€“â€¯ diï¬€eren2ally	 Â private	 Â (for	 Â all	 Â graphs)	 Â 
â€“â€¯ accurate	 Â for	 Â a	 Â subclass	 Â of	 Â graphs	 Â 

	 Â  image source http://www.queticointernetmarketing.com/new-amazing-facebook-photo-mapper/

7

Graph statistics

â€¢â€¯ Number	 Â of	 Â edges	 Â 

â€¦

â€¢â€¯ Counts	 Â of	 Â small	 Â subgraphs	 Â 	 Â 

â€¦

	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â (e.g.,	 Â triangles,	 Â í µí²Œ-Â­â€triangles,	 Â í µí²Œ-Â­â€stars)	 Â 

â€¢â€¯ Degree	 Â distribuCon	 Â 

fraction of nodes of degree d

â€¦

â€¦

Degree d
	 Â 

â€¢â€¯ Cut	 Â sizes	 Â 

â€¢â€¯ Distance	 Â to	 Â nearest	 Â graph	 Â with	 Â a	 Â certain	 Â property	 Â 

â€¢â€¯ Joint	 Â degree	 Â distribuCon	 Â 

8

Edge differentially private algorithms pre-2013:
graph statistics and techniques
â€¢â€¯ number	 Â of	 Â triangles,	 Â MST	 Â cost	 Â [Nissim	 Â Raskhodnikova	 Â Smith	 Â 07]	 Â  â€“â€¯ Smooth	 Â sensiCvity	 Â 
â€¢â€¯ degree	 Â distribu4on	 Â [Hay	 Â Rastogi	 Â Miklau	 Â Suciu	 Â 09,	 Â Hay	 Â Li	 Â Miklau	 Â Jensen	 Â 09,	 Â 
Karwa	 Â Slavkovic	 Â 12,	 Â Kifer	 Â Lin	 Â 13]	 Â 
â€“â€¯ Global	 Â sensiCvity	 Â and	 Â postprocessing	 Â  â€¢â€¯ small	 Â subgraph	 Â counts	 Â [Karwa	 Â Raskhodnikova	 Â Smith	 Â Yaroslavtsev	 Â 11]	 Â 
â€“â€¯ Smooth	 Â sensiCvity;	 Â Propose-Â­â€Test-Â­â€Release	 Â [Dwork	 Â Lei	 Â 09]	 Â  â€¢â€¯ cuts	 Â 
â€“â€¯ Random	 Â projecCons,	 Â global	 Â sensiCvity	 Â [Blocki	 Â Blum	 Â Daaa	 Â Sheï¬€et	 Â 12]	 Â  â€“â€¯ IteraCve	 Â updates	 Â [Hardt	 Â Rothblum	 Â 10,	 Â Gupta	 Â Roth	 Â Ullman	 Â 12]	 Â  â€¢â€¯ Kronecker	 Â graph	 Â model	 Â parameters	 Â [Mir	 Â Wright	 Â 12]	 Â  â€“â€¯ Postprocessing	 Â of	 Â [KRSYâ€™11]	 Â 
9

Other definitions
	 Â  Edge	 Â private	 Â against	 Â Bayesian	 Â adversary	 Â (weaker	 Â privacy)	 Â 
â€¢â€¯ small	 Â subgraph	 Â counts	 Â [Rastogi	 Â Hay	 Â Miklau	 Â Suciu	 Â 09]	 Â 
Node	 Â zero-Â­â€knowledge	 Â private	 Â (stronger	 Â privacy	 Â than	 Â DP)	 Â 
â€¢â€¯ average	 Â degree,	 Â distances	 Â to	 Â nearest	 Â connected,	 Â Eulerian,	 Â  cycle-Â­â€free	 Â graphs	 Â (privacy	 Â only	 Â for	 Â bounded-Â­â€degree	 Â graphs)	 Â 
[Gehrke	 Â Lui	 Â Pass	 Â 12]	 Â 
â€“â€¯ Sublinear-Â­â€Cme	 Â algorithms	 Â +	 Â global	 Â sensiCvity	 Â 
	 Â 
10

Today: 2013
New	 Â techniques	 Â [Blocki	 Â Blum	 Â Daaa	 Â Sheï¬€et	 Â 13,	 Â Kasiviswanathan	 Â Nissim	 Â  Raskhodnikova	 Â Smith	 Â 13,	 Â Chen	 Â Zhou	 Â 13,	 Â Raskhodnikova	 Â Smith]	 Â 
â€“â€¯ achieve	 Â node	 Â diï¬€erenCal	 Â privacy	 Â  â€“â€¯ give	 Â beaer	 Â edge	 Â diï¬€erenCally	 Â private	 Â algorithms	 Â 
â€¢â€¯ Guarantees	 Â for	 Â resulCng	 Â algorithms	 Â 
â€“â€¯ node	 Â diï¬€eren4ally	 Â private	 Â for	 Â all	 Â graphs	 Â  â€“â€¯ accurate	 Â for	 Â a	 Â subclass	 Â of	 Â graphs,	 Â which	 Â includes	 Â 	 Â 
â€¢â€¯ graphs	 Â with	 Â sublinear	 Â (not	 Â necessarily	 Â constant)	 Â degree	 Â bound	 Â  â€¢â€¯ graphs	 Â where	 Â the	 Â tail	 Â of	 Â the	 Â degree	 Â distribu4on	 Â is	 Â not	 Â too	 Â heavy	 Â  â€¢â€¯ dense	 Â graphs	 Â 
â€“â€¯ good	 Â performance	 Â in	 Â experiments	 Â on	 Â real	 Â graphs	 Â for	 Â simple	 Â  staCsCcs	 Â 
	 Â 
11

Today

â€¢â€¯ Node	 Â diï¬€erenCally	 Â private	 Â algorithms	 Â for	 Â releasing	 Â 	 Â 

â€“â€¯ number	 Â of	 Â edges	 Â  â€“â€¯ counts	 Â of	 Â small	 Â subgraphs	 Â 	 Â  â€“â€¯ degree	 Â distribuCon	 Â 

â€¦ â€¦

	 Â 

	 Â 

12

Today
â€¢â€¯ New	 Â techniques	 Â 
1.â€¯ Trunca4on	 Â +	 Â smooth	 Â sensi4vity	 Â [BBDSâ€™13,	 Â KNRSâ€™13]	 Â  2.â€¯ Lipschitz	 Â extensions	 Â [BBDSâ€™13,	 Â KNRSâ€™13]	 Â  3.â€¯ Recursive	 Â mechanism	 Â [Chen	 Â Zhou	 Â 13]	 Â 

â€¢â€¯ Unifying	 Â idea:	 Â ``projecConsâ€™â€™	 Â on	 Â ``graphsâ€™â€™	 Â with	 Â low	 Â sensiCvity	 Â 

â€“â€¯ Generic	 Â reducCon	 Â to	 Â privacy	 Â over	 Â bounded-Â­â€degree	 Â graphs	 Â 

	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â trunca4on	 Â +	 Â smooth	 Â sensi4vity	 Â [BBDSâ€™13,KNRSâ€™13]	 Â 

â€“â€¯ Releasing	 Â number	 Â of	 Â edges	 Â and	 Â subgraph	 Â counts	 Â 	 Â 

	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â Lipschitz	 Â extensions	 Â via	 Â max	 Â ï¬‚ow	 Â and	 Â LP	 Â [KNRSâ€™13]	 Â 

â€“â€¯ Releasing	 Â degree	 Â distribuCon	 Â 	 Â 

	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â Lipschitz	 Â extension	 Â via	 Â convex	 Â programming	 Â [Raskhodnikova	 Â Smith]	 Â 

â€“â€¯ Releasing	 Â subgraph	 Â counts	 Â 	 Â 

	 Â Recursive	 Â mechanism	 Â [Chen	 Â Zhou	 Â 13]	 Â 

	 Â 

13

Basic question
Graph G

Trusted curator

Users
Government,

A

( ) statistic f

researchers, businesses

approximation

(or)

to f(G)

malicious

adversary

How	 Â accurately	 Â 	 Â  can	 Â an	 Â í µí½-Â­â€diï¬€eren4ally	 Â private	 Â algorithm	 Â release	 Â f(G)?	 Â 

	 Â 

	 Â 

	 Â 

14

Challenge for node privacy: high sensitivity

â€¢â€¯ Global	 Â sensi4vity	 Â of	 Â a	 Â funcCon	 Â í µí±“	 Â is	 Â 

	 Â  í µí½í µí²‡=â€‹maxâ”¬(í µí°§í µí°¨í µí°í µí°)í µí°§í µí°í µí°¢í µí° í µí°¡í µí°›í µí°¨í µí°«í µí±  Â í µí°º,í µí°ºâ€²âŸâ |í µí±“(í µí°º)âˆ’í µí±“(â€‹í µí°ºâ†‘

â€²âŸ)|âŸ

	 Â 

	 Â 

â€¢â€¯ Examples:	 Â 	 Â  Ã˜ïƒ˜â€¯ â€‹í µí±“â†“âˆ’âŸ(G)	 Â is	 Â the	 Â number	 Â of	 Â edges	 Â in	 Â G. Ã˜ïƒ˜â€¯ â€‹í µí±“â†“â–³âŸ(G)	 Â is	 Â the	 Â number	 Â of	 Â triangles	 Â in	 Â G.	 Â 	 Â 

	 Â 

í µí½â€‹í µí²‡â†“âˆ’âŸ	 Â =	 Â í µí±›.	 Â 	 Â  í µí½â€‹í µí²‡â†“â–³âŸ=(â€‹í µí²Â¦í µí¿âŸ).

15

Challenge for node privacy: high sensitivity

â€¢â€¯ Global	 Â sensi4vity	 Â of	 Â a	 Â funcCon	 Â í µí±“	 Â is	 Â 

	 Â  í µí½í µí²‡=â€‹maxâ”¬(í µí°§í µí°¨í µí°í µí°)í µí°§í µí°í µí°¢í µí° í µí°¡í µí°›í µí°¨í µí°«í µí±  Â í µí°º,â€‹í µí°ºâ†‘â€²âŸâŸâ |í µí±“(í µí°º)âˆ’í µí±“(â€‹í µí°ºâ†‘

â€²âŸ)|âŸ

	 Â 

	 Â 

â€¢â€¯ Local	 Â sensi4vity,	 Â â€‹maxâ”¬â€‹í µí°ºâ†‘â€²âŸ: Â í µí°§í µí°í µí°¢í µí° í µí°¡í µí°›í µí°¨í µí°« Â of Â í µí°ºâŸâ |í µí±“(í µí°º)âˆ’í µí±“(â€‹í µí°ºâ†‘â€²âŸ)|âŸ,	 Â is	 Â 

also	 Â high.	 Â 

â€¢â€¯ New	 Â measure	 Â of	 Â sensiCvity	 Â [Chen	 Â Zhou	 Â 13]	 Â 

	 Â 	 Â 	 Â 	 Â 	 Â Down	 Â sensi4vity	 Â is	 Â â€‹maxâ”¬â€‹í µí°ºâ†‘â€²âŸ:í µí°¬í µí°®í µí°›í µí° í µí°«í µí°ší µí°©í µí°¡ Â í µí°§í µí°í µí°¢í µí° í µí°¡í µí°›í µí°¨í µí°« Â of Â í µí°ºâŸâ |í µí±“(í µí°º) âˆ’í µí±“(â€‹í µí°ºâ†‘â€²âŸ)|âŸ.	 Â 

Idea: project onto graphs with low down sensitivity.

16

â€œProjectionsâ€ on graphs of small degree [BBDSâ€™13,KNRSâ€™13]

Let	 Â í µí³– Â =	 Â family	 Â of	 Â all	 Â graphs,	 Â 	 Â 

í µí³–

	 Â 	 Â 	 Â 	 Â 	 Â 	 Â â€‹í µí³–â†“í µí±‘âŸ	 Â =	 Â family	 Â of	 Â graphs	 Â of	 Â degree	 Â 	 Â â‰¤í µí±‘.	 Â 

Nota4on.	 Â í µí½í µí²‡	 Â =	 Â 	 Â global	 Â sensi4vity	 Â of	 Â í µí²‡	 Â over Â í µí³–.	 Â 

	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â â€‹í µí½â†“í µí²…âŸí µí²‡	 Â =	 Â 	 Â global	 Â sensi4vity	 Â of	 Â í µí²‡ Â over	 Â â€‹í µí³–â†“í µí±‘âŸ.	 Â 

Observa4on.	 Â â€‹í µí½â†“í µí²…âŸí µí²‡	 Â is	 Â low	 Â for	 Â many	 Â useful	 Â í µí±“.	 Â  â€‹

Examples:	 Â 	 Â 

í µí³–

Ã˜ïƒ˜â€¯ 	 Â 	 Â â€‹í µí½â†“í µí²…âŸâ€‹í µí²‡â†“âˆ’âŸ	 Â =	 Â í µí²…	 Â 	 Â 	 Â 	 Â (compare	 Â to	 Â í µí½â€‹í µí²‡â†“âˆ’âŸ Â =	 Â 	 Â í µí²)	 Â 

â†“ í µí±‘âŸ

Ã˜ïƒ˜â€¯ 	 Â 	 Â â€‹í µí½â†“í µí²…âŸâ€‹í µí²‡â†“â–³âŸ	 Â =	 Â (â€‹í µí²…Â¦í µí¿âŸ) Â (compare	 Â to	 Â í µí½â€‹í µí²‡â†“â–³âŸ Â =	 Â (â€‹í µí²Â¦í µí¿âŸ))	 Â 

	 Â 

	 Â 

Goal: privacy for all graphs

	 Â 

Idea:	 Â ``Projectâ€™â€™	 Â on	 Â graphs	 Â in	 Â â€‹í µí³–â†“í µí±‘âŸ	 Â for	 Â a	 Â carefully	 Â chosen	 Â d	 Â <<	 Â n.	 Â 

	 Â 

17

Method 1 Truncation + smooth sensitivity
18

Method 1: reduction to privacy over â€‹í µí³–â†“í µí±‘âŸ

[KNRSâ€™13]

Input:	 Â 	 Â 	 Â 	 Â Algorithm	 Â B	 Â that	 Â is	 Â node-Â­â€DP	 Â over	 Â â€‹í µí³–â†“í µí±‘âŸ	 Â 

í µí³–

Output:	 Â Algorithm	 Â A	 Â that	 Â is	 Â node-Â­â€DP	 Â over	 Â í µí³–,	 Â 	 Â 

	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â has	 Â accuracy	 Â similar	 Â to	 Â B	 Â on	 Â â€œniceâ€	 Â graphs	 Â  	 Â 

â€¢â€¯ Time(A)	 Â =	 Â Time(B)	 Â +	 Â O(m+n)	 Â 

high í µí½í µí²‡ í µí±»

â€¢â€¯ ReducCon	 Â works	 Â for	 Â all	 Â funcCons	 Â í µí±“	 Â  How	 Â it	 Â works:	 Â Trunca4on	 Â T(G)	 Â outputs	 Â G	 Â 

low â€‹í µí½â†“í µí²…âŸí µí²‡ â€‹

with	 Â nodes	 Â of	 Â degree	 Â >í µí±‘	 Â removed.	 Â 

í µí³–

â€¢â€¯ Answer	 Â queries	 Â on	 Â T(G)	 Â instead	 Â of	 Â G	 Â 

â†“

	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â Ã˜	 Â 	 ïƒ˜Â 	 Â 	â€¯ Â 	 Â  via	 Â Smooth	 Â SensiCvity	 Â framework	 Â [NRSâ€™07]	 Â 

í µí±‘âŸ

Ã˜ïƒ˜â€¯ via	 Â ï¬nding	 Â a	 Â DP	 Â upper	 Â bound	 Â â„“í µí³	 Â on	 Â local	 Â sensiCvity	 Â [Dwork	 Â Lei	 Â 09,	 Â KRSYâ€™11]	 Â 

	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â and	 Â running	 Â any	 Â algorithm	 Â that	 Â is	 Â (â€‹í µí½/â„“í µí³âŸ)-Â­â€node-Â­â€DP	 Â over	 Â â€‹í µí³–â†“í µí±‘âŸ

G

A

T T(G)

query f

í µí²‡(í µí±»(í µí±®))+ noise(â€‹í µí±ºâ†“í µí±»âŸ(í µí±®)â‹…â€‹í µí½â†“í µí²…âŸí µí²‡)
S â€‹í µí±ºâ†“í µí±»âŸ(G)
19

Method 2 Lipschitz extensions
20

Method 2: Lipschitz extensions [BBDSâ€™13,KNRSâ€™13]

	 Â A	 Â funcCon	 Â í µí±“â€²	 Â is	 Â a	 Â Lipschitz	 Â extension	 Â  	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â of	 Â í µí±“	 Â from	 Â â€‹í µí³–â†“í µí±‘âŸ	 Â to	 Â 	 Â í µí³–	 Â if	 Â 
Ã˜ïƒ˜â€¯ í µí±“â€²	 Â agrees	 Â with	 Â í µí±“	 Â on	 Â â€‹í µí³–â†“í µí±‘âŸ	 Â 	 Â and	 Â  Ã˜ïƒ˜â€¯ í µí½í µí²‡â€² Â =	 Â â€‹í µí½â†“í µí²…âŸí µí²‡	 Â 
â€¢â€¯ Release	 Â í µí±“â€²	 Â via	 Â GS	 Â framework	 Â [DMNSâ€™06]	 Â 

í µí³– high í µí½í µí²‡ í µí½í µí²‡â€² Â = â€‹í µí½â†“í µí²…âŸí µí²‡
low â€‹í µí½â†“í µí²…âŸí µí²‡ â€‹ â€‹í µí²‡â†‘â€²âŸ=í µí²‡ í µí³– â†“ í µí±‘âŸ

â€¢â€¯ There	 Â exist	 Â Lipschitz	 Â extensions	 Â for	 Â all	 Â real-Â­â€valued	 Â fns	 Â [BBDSâ€™13]	 Â 

â€¢â€¯ Lipschitz	 Â extensions	 Â can	 Â be	 Â computed	 Â eï¬ƒciently	 Â for	 Â 	 Â 

â€“â€¯ subgraph	 Â counts	 Â [KNRSâ€™13]	 Â 	 Â 

â€“â€¯ degree	 Â distribuCon	 Â [RS]	 Â 

Vector of real values

21

Lipschitz extension of â€‹í µí²‡â†“âˆ’âŸ: flow graph

For	 Â a	 Â graph	 Â G=(V,	 Â E),	 Â deï¬ne	 Â ï¬‚ow	 Â graph	 Â of	 Â G:	 Â 

	 Â 

	 Â 

	 Â 

s

	 Â 

1

í µí±‘

2

3 4

5

1

1'

2'

3' 4' 5'

í µí±‘
t

Add	 Â edge	 Â (í µí±¢,í µí±£â€²)	 Â iï¬€	 Â (í µí±¢,í µí±£)âˆˆ Â í µí°¸.	 Â 

â€‹í µí²—â†“í µí°Ÿí µí°¥í µí°¨í µí°°âŸ(G)	 Â is	 Â the	 Â value	 Â of	 Â the	 Â maximum	 Â ï¬‚ow	 Â in	 Â this	 Â graph.	 Â 

Lemma.	 Â â€‹í µí²—â†“í µí°Ÿí µí°¥í µí°¨í µí°°âŸ(G)/2	 Â is	 Â a	 Â Lipschitz	 Â extension	 Â of	 Â â€‹í µí²‡â†“âˆ’âŸ.	 Â 

	 Â 

22

Lipschitz extension of â€‹í µí²‡â†“âˆ’âŸ: flow graph

For	 Â a	 Â graph	 Â G=(V,	 Â E),	 Â deï¬ne	 Â ï¬‚ow	 Â graph	 Â of	 Â G:	 Â 

	 Â 

1

	 Â 

â€‹ í µí±‘

2

degâ (í µí±£)âŸ

	 Â 

s/

3

4

	 Â 

5

1/ 1

1'

2'

â€‹ í µí±‘

degâ (í µí±£)âŸ

3'

/

t

4'

5'

Add	 Â edge	 Â (í µí±¢,í µí±£â€²)	 Â iï¬€	 Â (í µí±¢,í µí±£)âˆˆ Â í µí°¸.	 Â 

â€‹í µí²—â†“í µí°Ÿí µí°¥í µí°¨í µí°°âŸ(G)	 Â is	 Â the	 Â value	 Â of	 Â the	 Â maximum	 Â ï¬‚ow	 Â in	 Â this	 Â graph.	 Â 

Lemma.	 Â â€‹í µí²—â†“í µí°Ÿí µí°¥í µí°¨í µí°°âŸ(G)/2	 Â is	 Â a	 Â Lipschitz	 Â extension	 Â of	 Â â€‹í µí²‡â†“âˆ’âŸ.	 Â 

Proof:	 Â (1)	 Â 	 Â â€‹í µí²—â†“í µí°Ÿí µí°¥í µí°¨í µí°°âŸ(G)	 Â = Â â€‹í µí¿í µí²‡â†“âˆ’âŸ(G)	 Â for	 Â all	 Â Gâˆˆâ€‹í µí³–â†“í µí±‘âŸ	 Â 

	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â (2)	 Â 	 Â í µí½ Â â€‹í µí²—â†“í µí°Ÿí µí°¥í µí°¨í µí°°âŸ	 Â =	 Â 2â‹…â€‹í µí½â†“í µí²…âŸâ€‹í µí²‡â†“âˆ’âŸ 	 Â 

	 Â 

23

Lipschitz extension of â€‹í µí²‡â†“âˆ’âŸ: flow graph

For	 Â a	 Â graph	 Â G=(V,	 Â E),	 Â deï¬ne	 Â ï¬‚ow	 Â graph	 Â of	 Â G:	 Â 

	 Â 

1

	 Â 

í µí±‘

2

	 Â 

s

3

4

	 Â 

í µí±‘
5

1

1'

2'

3' 4' 5'

í µí±‘
t
í µí±‘



6

6'

â€‹í µí²—â†“í µí°Ÿí µí°¥í µí°¨í µí°°âŸ(G)	 Â is	 Â the	 Â value	 Â of	 Â the	 Â maximum	 Â ï¬‚ow	 Â in	 Â this	 Â graph.	 Â 

Lemma.	 Â â€‹í µí²—â†“í µí°Ÿí µí°¥í µí°¨í µí°°âŸ(G)/2	 Â is	 Â a	 Â Lipschitz	 Â extension	 Â of	 Â â€‹í µí²‡â†“âˆ’âŸ.	 Â 

Proof:	 Â (1)	 Â 	 Â â€‹í µí²—â†“í µí°Ÿí µí°¥í µí°¨í µí°°âŸ(G)	 Â =	 Â â€‹í µí¿í µí²‡â†“âˆ’âŸ(G)	 Â for	 Â all	 Â Gâˆˆâ€‹í µí³–â†“í µí±‘âŸ	 Â 

	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â (2)	 Â 	 Â í µí½ Â â€‹í µí²—â†“í µí°Ÿí µí°¥í µí°¨í µí°°âŸ	 Â =	 Â 2â‹…â€‹í µí½â†“í µí²…âŸâ€‹í µí²‡â†“âˆ’âŸ	 Â =	 Â 2í µí²…	 Â 

	 Â 

	 Â 



24

Lipschitz extensions via linear programs

For	 Â a	 Â graph	 Â G=([n],	 Â E),	 Â deï¬ne	 Â LP	 Â with	 Â variables	 Â â€‹í µí±¥â†“í µí±‡âŸ	 Â for	 Â all	 Â triangles	 Â 

í µí±‡:	 Â 

âˆ‘í µí±‡=â–³ Â of Â í µí°ºâ†‘â–’â€‹í µí±¥â†“í µí±‡âŸâŸ

Maximize	 Â 	 Â 

	 Â 

	 Â 

	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 0â‰¤â€‹í µí±¥â†“í µí±‡âŸâ‰¤1 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â for	 Â all	 Â 	 Â triangles Â í µí±‡

âˆ‘í µí±‡:í µí±£âˆˆí µí±‰(í µí±‡)â†‘â–’â€‹í µí±¥â†“í µí±‡âŸâŸâ‰¤(â€‹

	 Â 

 Â  Â í µ Â  í²…Â  Â¦Â  í µÂ  Â í¿ Â âŸ Â ) Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â for	 Â all	 Â nodes	 Â í µí±£	 Â 

	 Â 

=í µâ€‹ í½â†“í µí²…âŸâ€‹

í µí²‡â†“â–³âŸ

â€‹í µí²—â†“í µí°‹í µí°âŸ(G)	 Â is	 Â the	 Â value	 Â of	 Â LP.	 Â 
Lemma.	 Â â€‹í µí²—â†“í µí°‹í µí°âŸ(G)	 Â is	 Â a	 Â Lipschitz	 Â extension	 Â of	 Â â€‹í µí²‡â†“â–³âŸ.	 Â  â€¢â€¯ If	 Â we	 Â use	 Â í µí¼¹	 Â instead	 Â of	 Â (â€‹í µí²…Â¦í µí¿âŸ)	 Â as	 Â a	 Â bound,	 Â get	 Â a	 Â funcCon	 Â with	 Â GS	 Â 
í µí¼¹.	 Â 	 Â 
â€“â€¯ It	 Â is	 Â a	 Â Lipschitz	 Â extension	 Â from	 Â a	 Â large	 Â set	 Â that	 Â includes	 Â â€‹í µí°ºâ†“í µí±‘âŸ.	 Â 

25

Lipschitz extension for a function that outputs a vector
26

Lipschitz extension of degree distribution via convex programming [RS]

	 Â 

1

1

1'

	 Â 

í µí±‘

2

2'

	 Â 

s

3

3'

4

4'

	 Â 

â€‹í µí²‡â†“í µí²—âŸ	 Â =	 Â ï¬‚ow	 Â  5

5'

into	 Â vertex	 Â í µí²— ï¬‚ow	 Â graph	 Â of	 Â G	 Â 

	 Â 

í µí±‘
t

Can	 Â we	 Â use	 Â â€‹í µí±“â†“í µí±£âŸ	 Â as	 Â a	 Â proxy	 Â for	 Â degree	 Â of	 Â í µí±£?	 Â 

Issue:	 Â max	 Â ï¬‚ow	 Â is	 Â not	 Â unique.	 Â 

Want:	 Â unique	 Â ï¬‚ow	 Â that	 Â has	 Â low	 Â global	 Â sensiCvity.	 Â 

	 Â 
27

Lipschitz extension of degree distribution via convex programming [RS]

	 Â 

1

1

1'

	 Â 

í µí±‘

2

2'

	 Â 

s

3

3'

4

4'

	 Â 

â€‹í µí²‡â†“í µí²—âŸ	 Â =	 Â ï¬‚ow	 Â  5

5'

into	 Â vertex	 Â í µí²— ï¬‚ow	 Â graph	 Â of	 Â G	 Â 

í µí±‘
t

â€¢â€¯ Let	 Â â„(í µí±¥)=í µí±¥(2í µí±‘âˆ’í µí±¥).	 Â 	 Â 

í µí²‰(í µí²™)

â€‹í µí²…â†‘í µí¿âŸ

Idea:	 Â maximize	 Â â€‹âˆ‘â†“í µí±£âŸâ„(â€‹í µí±“â†“í µí±£âŸ) Â instead	 Â of	 Â â€‹âˆ‘â†“í µí±£âŸâ€‹í µí±“â†“í µí±£âŸ.	 Â 

â€¢â€¯ Let	 Â í µí¼™	 Â be	 Â the	 Â ï¬‚ow	 Â maximizing	 Â â€‹âˆ‘â†“í µí±£âŸâ„(â€‹í µí±“â†“í µí±£âŸ),	 Â 

í µí²™

	 Â 	 Â 	 Â 	 Â and	 Â â€‹í µí±“â†‘âˆ—âŸ	 Â be	 Â the	 Â vector	 Â of	 Â í µí± -Â­â€out-Â­â€ï¬‚ows	 Â in	 Â í µí¼™.	 Â  í µí²…

â€¢â€¯ â€‹í µí±“â†‘âˆ—âŸ	 Â is	 Â unique,	 Â since	 Â â„	 Â is	 Â strictly	 Â concave.	 Â 

â€¢â€¯ It	 Â can	 Â be	 Â computed	 Â in	 Â poly	 Â Cme	 Â [Lee	 Â Rao	 Â Srivastava	 Â 13].	 Â 	 Â 

28

Lipschitz extension of degree distribution via convex programming [RS]

	 Â 

1

1

1'

	 Â 

í µí±‘

2

2'

í µí±‘

	 Â 

s

3

4

3'

t

4'

	 Â 

â€‹í µí²‡â†“í µí²—â†‘âˆ—âŸ	 Â =	 Â ï¬‚ow	 Â  5

5'

into	 Â verte	x Â 	 Â 	 	Â 	 Â  í µÂ 	 í²—Â 	 Â 	 Â 	 Â 	 Â í µí¼™=â€‹argmaxâ âˆ‘í µí±£â†‘â–’â„(â€‹í µí±“â†“í µí±£âŸ)âŸâŸ.	 Â 

â€¢â€¯ If	 Â Gâˆˆâ€‹í µí³–â†“í µí±‘âŸ,	 Â then	 Â â€‹í µí²‡â†“í µí²—â†‘âˆ—âŸ=	 Â deg(í µí²—)	 Â for	 Â all	 Â í µí²—,	 Â 	 Â 

í µí²‰(í µí²™)

	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â since	 Â â„	 Â is	 Â strictly	 Â increasing	 Â on	 Â [0,í µí±‘].	 Â  â€‹í µí²…â†‘í µí¿âŸ=í µí²™(í µí¿í µí²…âˆ’í µí²™)

â€¢â€¯ Lemma.	 Â â€‹â„“í µí³â†“í µí¿âŸ	 Â global	 Â sensi4vity	 Â í µí½â€‹í µí²‡â†‘âˆ—âŸâ‰¤í µí¿‘í µí²….	 Â 	 Â  	 Â 

í µí²™ í µí²…

29

Lipschitz extension of degree distribution via convex programming [RS]

	 Â 

1

	 Â 

í µí±‘

2

s

3

	 Â 

â€‹

4

	 Â 

í µí²†â†“ í µí±‘
5

í µí²”âŸ

6

1

1'

2'

3' 4'

5'

	 Â 

6'

Lemma.	 Â â€‹â„“í µí³â†“í µí¿âŸ	 Â global	 Â sensi4vity	 Â í µí½â€‹í µí²‡â†‘âˆ—âŸâ‰¤í µí¿‘í µí²….	 Â 

í µí±‘
t
í µí±‘ â€‹ í µí²†â†“ í µí²•âŸ

Proof	 Â sketch:	 Â 	 Â Consider	 Â í µí±”=â€‹í µí¼™â†“í µí±›í µí±’í µí±¤âŸâˆ’â€‹í µí¼™â†“í µí±œí µí±™í µí±‘âŸ.	 Â 

í µí±”	 Â is	 Â a	 Â union	 Â of	 Â simple	 Â í µí± -Â­â€í µí±¡-Â­â€paths	 Â and	 Â cycles	 Â of	 Â several	 Â types:	 Â 

1.â€¯ í µí± -Â­â€í µí±¡-Â­â€paths	 Â and	 Â cycles	 Â using	 Â â€‹í µí±’â†“í µí± âŸ.	 Â Contribute â‰¤2í µí±‘ to â€‹|â€‹í µí±“â†“í µí±›í µí±’í µí±¤â†‘âˆ—âŸâˆ’â€‹

2.â€¯ í µí± -Â­â€í µí±¡-Â­â€paths	 Â using	 Â â€‹í µí±’â†“í µí±¡âŸ.	 Â 

í µâ‰¤í±“â†“í µí±‘í±œí µí±™í µí±‘â†‘âˆ—âŸ|â†“1âŸ

3.â€¯ Cycles	 Â using	 Â â€‹í µí±’â†“í µí±¡âŸ.	 Â 

0

4.â€¯ Remaining	 Â paths	 Â and	 Â cycles.	 Â  Do not exist.

	 Â 
30

Releasing degree distribution: summary

	 Â 

1

1

1'

	 Â 

í µí±‘

2

2'

í µí±‘

	 Â 

s

3

4

3'

t

4'

	 Â 

â€‹í µí²‡â†“í µí²—â†‘âˆ—âŸ	 Â =	 Â ï¬‚ow	 Â  5

5'

into	 Â verte	x Â 	 Â 	 	Â 	 Â  í µÂ 	 í²—Â 	 Â 	 Â 	 Â 	 Â í µí¼™=â€‹argmaxâ âˆ‘í µí±£â†‘â–’â„(â€‹í µí±“â†“í µí±£âŸ)âŸâŸ.	 Â 

	 Â  1.â€¯ Construct	 Â ï¬‚ow	 Â graph	 Â of	 Â G.	 Â 

í µí²‰(í µí²™) â€‹í µí²…â†‘í µí¿âŸ =í µí²™(í µí¿í µí²…âˆ’í µí²™)

2.â€¯ Compute	 Â í µí± -Â­â€out-Â­â€ï¬‚ows	 Â â€‹í µí±“â†‘âˆ—âŸ.	 Â 

3.â€¯ Release	 Â vector	 Â â€‹í µí±“â†‘âˆ—âŸ,	 Â with	 Â Lap(â€‹3í µí±‘/í µí¼–âŸ)	 Â per	 Â coordinate.	 Â 

í µí²™

4.â€¯ Use	 Â post-Â­â€processing	 Â techniques	 Â by	 Â [Hay	 Â Rastogi	 Â Miklau	 Â Suciu	 í µÂ 0í²…9,	 Â Hay	 Â Li	 Â 

Miklau	 Â Jensen	 Â 09,	 Â Karwa	 Â Slavkovic	 Â 12,	 Â Kifer	 Â Lin	 Â 13]	 Â to	 Â remove	 Â some	 Â noise.	 Â 

31

Method 3 Recursive mechanism
32

Method 3: recursive mechanism [Chen	 Â Zhou	 Â 13]
Strategy	 Â for	 Â releasing	 Â real-Â­â€valued	 Â func1ons	 Â í µí±“(í µí°º)	 Â 
â€¢â€¯ Deï¬ne	 Â funcCons	 Â â€‹í µí±‹â†“í µí»¿âŸ(G)	 Â with	 Â global	 Â sensiCvity	 Â í µí»¿.	 Â 
	 Â 	 Â 	 Â 	 Â 	 Â As	 Â in	 Â projecCon	 Â methods,	 Â 
Ã˜ïƒ˜â€¯ 	 Â â€‹í µí±‹â†“í µí»¿âŸ(G)â‰¤í µí±“(í µí°º)	 Â and	 Â  Ã˜ïƒ˜â€¯ â€‹í µí±‹â†“í µí»¿âŸ(G)	 Â is	 Â closer	 Â to	 Â í µí±“(í µí°º)	 Â for	 Â larger	 Â í µí»¿.	 Â  	 Â 
â€¢â€¯ Release	 Â â€‹í µí±‹â†“í µí»¿âŸ(G)	 Â for	 Â a	 Â carefully	 Â chosen	 Â í µí»¿	 Â via	 Â Laplace	 Â  mechanism.	 Â 
	 Â 
33

Defining â€‹í µí±¿â†“í µí¼¹âŸ(í µí±®)

â€¢â€¯ 	 Â Given	 Â graph	 Â G,	 Â deï¬ne	 Â sequence	 Â in	 Â â€‹í µí±…â†‘+âŸ:	 Â 

0=â€‹í µí°»â†“0âŸ(í µí°º)â‰¤â€‹í µí°»â†“1âŸ(í µí°º)â‰¤â€¦â‰¤â€‹í µí°»â†“í µí±›âŸ(í µí°º)=í µí²‡(í µí±®).	 Â 

	 Â E.g.,	 Â â€‹í µí°»â†“í µí±–âŸ(í µí±”)=â€‹minâ”¬â–ˆâ– í µí± í µí±¢í µí±í µí±”í µí±Ÿí µí±í µí±â„í µí±  Â â€‹í µí°ºâ†‘â€²âŸí µí±œí µí±“ Â í µí°ºâ  Â í µí±œí µí±“ Â í µí± í µí±–í µí±§í µí±’ Â í µí±–âŸâŸâ í µí²‡(â€‹ í µí±®â†‘â€²âŸ)âŸ.	 Â 

â€¢â€¯ â€‹í µí°»â†“í µí±–âŸâ€™s	 Â must	 Â be	 Â interleaving:	 Â â€‹í µí°»â†“í µí±–âŸ(â€‹í µí°ºâ†“2âŸ)â‰¤â€‹í µí°»â†“í µí±–âŸ(â€‹í µí°ºâ†“1âŸ)â‰¤â€‹í µí°»â†“í µí±–+1âŸ(â€‹ í µí°ºâ†“2âŸ)	 Â 

	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â forâ€‹	 Â all	 Â neighbors	 Â â€‹í µí°ºâ†“1âŸâŠ‚â€‹í µí°ºâ†“2âŸ	 Â and	 Â í µí±–=â€‹ 0,1,â€¦,í µí±›.	 Â 

	 Â 

í µí±®â†“í µí¿âŸ

í µí±®â†“í µí¿âŸ

:

:

	 Â 

	 Â 

â€¢â€¯ Deï¬ne	 Â â€‹í µí±‹â†“í µí»¿âŸ(G)=â€‹minâ”¬0â‰¤í µí±–â‰¤í µí±›âŸ(â€‹ í µí°»â†“í µí±–âŸ(í µí°º)+(í µí±›âˆ’í µí±–)í µí»¿).	 Â 

	 Â 	 Â 	 Â Lemma.	 Â â€‹í µí±‹â†“í µí»¿âŸ(G)=í µí±“(í µí°º)	 Â for	 Â í µí»¿â‰¥â€‹maxâ”¬í µí±–âŸâ (â€‹í µí°»â†“í µí±–+1âŸ(í µí°º)âˆ’â€‹í µí°»â†“í µí±–âŸ(í µí°º))âŸ.	 Â 	 Â 

34

Global sensitivity of â€‹í µí±¿â†“í µí¼¹âŸ(í µí±®)
â€¢â€¯ â€‹í µí°»â†“í µí±–âŸâ€™s	 Â must	 Â be	 Â interleaving:	 Â â€‹í µí°»â†“í µí±–âŸ(â€‹í µí°ºâ†“2âŸ)â‰¤â€‹í µí°»â†“í µí±–âŸ(â€‹í µí°ºâ†“1âŸ)â‰¤â€‹í µí°»â†“í µí±–+1âŸ(â€‹ í µí°ºâ†“2âŸ)	 Â 
	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â for	 Â all	 Â neighbors	 Â â€‹í µí°ºâ†“1âŸâŠ‚â€‹í µí°ºâ†“2âŸ	 Â and	 Â í µí±–=0,1,â€¦,í µí±›.	 Â  â€¢â€¯ Deï¬ne	 Â â€‹í µí±‹â†“í µí»¿âŸ(G)=â€‹minâ”¬0â‰¤í µí±–â‰¤í µí±›âŸ(â€‹ í µí°»â†“í µí±–âŸ(í µí°º)+(í µí±›âˆ’í µí±–)í µí»¿).	 Â  	 Â 	 Â 	 Â Lemma.	 Â Global	 Â node	 Â sensiCvity	 Â of	 Â â€‹í µí±‹â†“í µí»¿âŸ	 Â is	 Â í µí»¿.	 Â 	 Â  	 Â 	 Â 	 Â Proof:	 Â Consider	 Â neighbors	 Â â€‹í µí°ºâ†“1âŸâŠ‚â€‹í µí°ºâ†“2âŸ.	 Â  1.â€¯ 	 Â Want	 Â to	 Â show:	 Â â€‹í µí±‹â†“í µí»¿âŸ(Gâ€‹ â†“2âŸ)â‰¤â€‹í µí±‹â†“í µí»¿âŸ(Gâ€‹ â†“1âŸ)+í µí»¿.	 Â  	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â Let	 Â â€‹í µí±–â†‘âˆ—âŸ	 Â be	 Â the	 Â index	 Â that	 Â minimizes	 Â the	 Â expression	 Â for	 Â â€‹í µí±‹â†“í µí»¿âŸ(â€‹ Gâ†“1âŸ).	 Â  	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â â€‹í µí±‹â†“í µí»¿âŸ(Gâ€‹ â†“2âŸ)â‰¤â€‹í µí°»â†“â€‹í µí±–â†‘âˆ—âŸâŸ(â€‹í µí°ºâ†“2âŸ)+(í µí±›+1âˆ’â€‹í µí±–â†‘âˆ—âŸ)í µí»¿	 Â 
	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â â‰¤â€‹í µí°»â†“â€‹í µí±–â†‘âˆ—âŸâŸ(â€‹í µí°ºâ†“1âŸ)+(í µí±›âˆ’â€‹í µí±–â†‘âˆ—âŸ)í µí»¿+í µí»¿=â€‹í µí±‹â†“í µí»¿âŸ(Gâ€‹ â†“2âŸ)+í µí»¿.	 Â  2.â€¯ 	 Â Similarly,	 Â can	 Â show	 Â â€‹í µí±‹â†“í µí»¿âŸ(Gâ€‹ â†“1âŸ)â‰¤â€‹í µí±‹â†“í µí»¿âŸ(Gâ€‹ â†“2âŸ).	 Â  	 Â 
35

Computationally efficient recursive mechanism

Recall:	 Â â€‹í µí±‹â†“í µí»¿âŸ(G)=â€‹minâ”¬0â‰¤í µí±–â‰¤í µí±›âŸ(â€‹ í µí°»â†“í µí±–âŸ(í µí°º)+(í µí±›âˆ’í µí±–)í µí»¿).	 Â 

	 Â E.g.,	 Â â€‹í µí°»â†“í µí±–âŸ(í µí°º)=â€‹minâ”¬â–ˆâ– í µí± í µí±¢í µí±í µí±”í µí±Ÿí µí±í µí±â„í µí±  Â â€‹í µí°ºâ†‘â€²âŸí µí±œí µí±“ Â í µí°ºNâ  Â í µí±œPí µí±“- Â í µhí± í µaí±–í µrí±§í µdí±’ Â í µí±–âŸâŸâ í µí²‡(â€‹ í µí±®â†‘â€²âŸ)âŸ.	 Â 

Idea:	 Â Use	 Â an	 Â LP-Â­â€relaxaCon	 Â of	 Â â€‹í µí°»â†“í µí±–âŸ.	 Â 

	 Â 	 Â E.g.,	 Â for	 Â â€‹í µí²‡â†“Î”âŸ	 Â (the	 Â number	 Â of	 Â triangles):	 Â 

	 Â 
âˆ‘(í µí±¢,í µí±£,í µí±¤)=â–³ Â of Â í µí°ºâ†‘â–’mâ€‹ axâ (0,âŸ(í µí±¥â†“í µí±¢âŸ+â€‹í µí±¥â†“í µí±£âŸ+â€‹í µí±¥â†“í µí±¤âŸ
	 Â  â€‹í µí°»â†“í µí±–âŸ(í µí°º)= âˆ’Â m2i)n)âŸ	 Â 
	 Â  	 Â  	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 0â‰¤â€‹í µí±¥â†“í µí±£âŸâ‰¤1 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â for	 Â all	 Â 	 Â nodes	 Â í µí±£ âˆ‘	 Â  í µí±£â†‘ Â  Â â–’ Â  Â  Â â€‹í µ Â í±¥ Â â†“ Â  Â í µ Â í±£ Â âŸ âŸÂ  =Â  Â  Â  í µÂ í±– Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â 	 Â 

	 Â 

Output:	 Â â€‹í µí±‹â†“í µí»¿âŸ(G)	 Â in	 Â global	 Â sensiCvity	 Â framework.	 Â 

	 Â 	 Â 

36

Summary
â€¢â€¯ New	 Â techniques	 Â 
1.â€¯ Trunca4on	 Â +	 Â smooth	 Â sensi4vity	 Â [BBDSâ€™13,	 Â KNRSâ€™13]	 Â  2.â€¯ Lipschitz	 Â extensions	 Â [BBDSâ€™13,	 Â KNRSâ€™13]	 Â  3.â€¯ Recursive	 Â mechanism	 Â [Chen	 Â Zhou	 Â 13]	 Â 

â€¢â€¯ Unifying	 Â idea:	 Â ``projecConsâ€™â€™	 Â on	 Â ``graphsâ€™â€™	 Â with	 Â low	 Â sensiCvity	 Â 

â€“â€¯ Generic	 Â reducCon	 Â to	 Â privacy	 Â over	 Â bounded-Â­â€degree	 Â graphs	 Â 

	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â trunca4on	 Â +	 Â smooth	 Â sensi4vity	 Â [BBDSâ€™13,KNRSâ€™13]	 Â 

â€“â€¯ Releasing	 Â number	 Â of	 Â edges	 Â and	 Â subgraph	 Â counts	 Â 	 Â 

	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â Lipschitz	 Â extensions	 Â via	 Â max	 Â ï¬‚ow	 Â and	 Â LP	 Â [KNRSâ€™13]	 Â 

â€“â€¯ Releasing	 Â degree	 Â distribuCon	 Â 	 Â 

	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â Lipschitz	 Â extension	 Â via	 Â convex	 Â programming	 Â [Raskhodnikova	 Â Smith]	 Â 

â€“â€¯ Releasing	 Â subgraph	 Â counts	 Â 	 Â 

	 Â Recursive	 Â mechanism	 Â [Chen	 Â Zhou	 Â 13]	 Â 

	 Â 

37

Experimental evaluation
38

Experiments for the flow and LP method [Lu]

Graph

# nodes # edges

Max Time, secs Time, secs degree # edges # í µíº«s

CA-GrQc

5,242 28,992 81

0.02

7

CA-HepTh

9,877 51,996 65

0.68

0.5

CA-AstroPh

18,772 396,220 504 0.34

10,222

com-dblp-ungraph 317,080 2,099,732 343 2

2128

com-youtube-ungraph 1,134,890 5,975,248 28,754 9

94

39

Other experimental results
[Lu]	 Â showed	 Â that	 Â truncaCon	 Â is	 Â less	 Â accurate	 Â than	 Â ï¬‚ow	 Â and	 Â LP-Â­â€ based	 Â methods.	 Â  	 Â  [Chen	 Â Zhou	 Â 13]	 Â provide	 Â experimental	 Â evaluaCon	 Â on	 Â random	 Â and	 Â  real-Â­â€world	 Â graphs.	 Â  â€¢â€¯ (Mostly)	 Â beaer	 Â accuracy	 Â than	 Â in	 Â [KRSYâ€™11]	 Â for	 Â edge-Â­â€DP	 Â algs.	 Â  â€¢â€¯ Comparable	 Â (slightly	 Â beaer?)	 Â accuracy	 Â on	 Â smaller	 Â graphs	 Â than	 Â 
in	 Â experiments	 Â of	 Â [Lu]	 Â for	 Â node-Â­â€DP	 Â algorithms.	 Â  â€¢â€¯ Longer	 Â running	 Â Cmes.	 Â  â€¢â€¯ Not	 Â enough	 Â experiments	 Â to	 Â compare	 Â the	 Â two	 Â node-Â­â€DP	 Â 
methods.	 Â 
40

Conclusions
â€¢â€¯ We	 Â are	 Â close	 Â to	 Â having	 Â edge-Â­â€private	 Â and	 Â node-Â­â€private	 Â  algorithms	 Â that	 Â work	 Â well	 Â in	 Â pracCce	 Â for	 Â basic	 Â graph	 Â staCsCcs.	 Â 
â€¢â€¯ InteresCng	 Â projecCon	 Â techniques	 Â that	 Â might	 Â be	 Â useful	 Â for	 Â  design	 Â of	 Â DP	 Â algorithms	 Â in	 Â other	 Â contexts.	 Â 
	 Â 
41

Open questions
â€¢â€¯ New	 Â techniques:	 Â 
â€“â€¯ Can	 Â special-Â­â€purpose	 Â LP-Â­â€solvers	 Â make	 Â them	 Â more	 Â eï¬ƒcient?	 Â  â€“â€¯ To	 Â which	 Â other	 Â queries	 Â do	 Â they	 Â apply?	 Â  â€“â€¯ Whatâ€™s	 Â the	 Â best	 Â way	 Â to	 Â choose	 Â the	 Â degree/sensiCvity	 Â cut	 Â oï¬€?	 Â 
â€¢â€¯ Speciï¬c	 Â queries:	 Â 
â€“â€¯ Releasing	 Â cuts	 Â with	 Â node-Â­â€DP	 Â  â€“â€¯ Releasing	 Â pairwise	 Â distances	 Â between	 Â nodes	 Â with	 Â DP	 Â 
42

Open questions (continued)
â€¢â€¯ DP	 Â syntheCc	 Â graphs	 Â  â€¢â€¯ Simultaneous	 Â release	 Â of	 Â answers	 Â to	 Â many	 Â queries	 Â  â€¢â€¯ What	 Â are	 Â the	 Â right	 Â noCons	 Â of	 Â privacy	 Â for	 Â graph	 Â data?	 Â  â€¢â€¯ What	 Â are	 Â the	 Â right	 Â ways	 Â to	 Â state	 Â uClity	 Â guarantees?	 Â 
â€“â€¯ Some	 Â proposals	 Â in	 Â [KRSYâ€™13,	 Â KNRSâ€™13,	 Â Chen	 Â Zhou	 Â 13]	 Â 
â€¢â€¯ Social	 Â networks	 Â have	 Â node	 Â and	 Â edge	 Â aaributes.	 Â What	 Â queries	 Â  are	 Â useful?	 Â 
â€¢â€¯ Hypergraphs	 Â (that	 Â capture	 Â relaConships	 Â such	 Â as	 Â â€œpeople	 Â  appearing	 Â on	 Â the	 Â same	 Â photoâ€)	 Â 
43

â€œProjectionsâ€ on graphs of small degree

Let	 Â í µí³– Â =	 Â family	 Â of	 Â all	 Â graphs,	 Â 	 Â 

í µí³–

	 Â 	 Â 	 Â 	 Â 	 Â 	 Â â€‹í µí³–â†“í µí±‘âŸ	 Â =	 Â family	 Â of	 Â graphs	 Â of	 Â degree	 Â 	 Â â‰¤í µí±‘.	 Â 

Nota4on.	 Â í µí½í µí²‡	 Â =	 Â 	 Â node	 Â í µí±®â€‹í µí±ºâ†“í µí²‡âŸ	 Â over Â í µí³–.	 Â 

	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â â€‹í µí½â†“í µí²…âŸí µí²‡	 Â =	 Â 	 Â node	 Â í µí±®â€‹í µí±ºâ†“í µí²‡âŸ	 Â over	 Â â€‹í µí³–â†“í µí±‘âŸ.	 Â 

Observa4on.	 Â â€‹í µí½â†“í µí²…âŸí µí²‡	 Â is	 Â low	 Â for	 Â many	 Â useful	 Â í µí±“.	 Â  â€‹

Examples:	 Â 	 Â 

í µí³–

Ã˜ïƒ˜â€¯ 	 Â 	 Â â€‹í µí½â†“í µí²…âŸâ€‹í µí²‡â†“âˆ’âŸ	 Â =	 Â í µí²…	 Â 	 Â 	 Â 	 Â (compare	 Â to	 Â í µí½â€‹í µí²‡â†“âˆ’âŸ Â =	 Â 	 Â í µí²)	 Â 

â†“ í µí±‘âŸ

Ã˜ïƒ˜â€¯ 	 Â 	 Â â€‹í µí½â†“í µí²…âŸâ€‹í µí²‡â†“â–³âŸ	 Â =	 Â (â€‹í µí²…Â¦í µí¿âŸ) Â (compare	 Â to	 Â í µí½â€‹í µí²‡â†“â–³âŸ Â =	 Â (â€‹í µí²Â¦í µí¿âŸ))	 Â 

	 Â 

	 Â 

Goal: privacy for all graphs

	 Â 

Idea:	 Â ``Projectâ€™â€™	 Â on	 Â graphs	 Â in	 Â â€‹í µí³–â†“í µí±‘âŸ	 Â for	 Â a	 Â carefully	 Â chosen	 Â d	 Â <<	 Â n.	 Â 

	 Â 

44

Graph statistics

â€¢â€¯ Number	 Â of	 Â edges	 Â 

â€¢â€¯ Counts	 Â of	 Â small	 Â subgraphs	 Â 	 Â 

â€¦

â€¦ 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â (e.g.,	 Â triangles,	 Â í µí²Œ-Â­â€triangles,	 Â í µí²Œ-Â­â€stars)	 Â 

â€¢â€¯ Degree	 Â distribuCon	 Â 

â€¢â€¯ Joint	 Â degree	 Â distribuCon	 Â 

â€¢â€¯ Cuts	 Â 

# of nodes of degree d

â€¦

â€¦

Degree d

45

Our contributions: algorithms

â€¢â€¯ Node	 Â diï¬€erenCally	 Â private	 Â algorithms	 Â for	 Â releasing	 Â 	 Â 

â€“â€¯ number	 Â of	 Â edges	 Â 

â€¦

â€“â€¯ counts	 Â of	 Â small	 Â subgraphs	 Â 	 Â 

â€¦

	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â (e.g.,	 Â triangles,	 Â í µí²Œ-Â­â€triangles,	 Â í µí²Œ-Â­â€stars)	 Â 

â€“â€¯ degree	 Â distribuCon	 Â 

â€¢â€¯ Accuracy	 Â analysis	 Â of	 Â our	 Â algorithms	 Â for	 Â graphs	 Â with	 Â not-Â­â€too-Â­â€
heavy-Â­â€tailed	 Â degree	 Â distribuCon:	 Â with	 Â í µí¼¶-Â­â€decay	 Â for	 Â constant	 Â í µí»¼>1	 Â 

Nota4on:	 Â 	 Â 	 Â â€‹í µí²…âŸ= Â average Â degree	 Â  í µí±·(í µí²…)=	 Â fracCon	 Â of	 Â nodes	 Â in	 Â G	 Â of	 Â degree	 Â â‰¥í µí±‘	 Â  Frequency

A	 Â graph	 Â G	 Â saCsï¬es	 Â 	 Â í µí¼¶-Â­â€decay	 Â if	 Â  for	 Â all	 Â í µí±¡>1:	 Â 	 Â 	 Â 	 Â í µí±ƒ(í µí±¡â‹…â€‹í µí±‘âŸ)â‰¤â€‹í µí±¡â†‘âˆ’í µí»¼âŸ	 Â 	 Â 

â€‹â‰¤í µí²•â†‘âˆ’í µí¼¶âŸ

â€¦

â€¦

â€“â€¯ Every	 Â graph	 Â saCsï¬es	 Â 1-Â­â€decay	 Â 

â€‹í µí²…âŸ í µí±¡â‹…â€‹í µí²…âŸ Degrees

â€“â€¯ Natural	 Â graphs	 Â (e.g.,	 Â â€œscale-Â­â€freeâ€	 Â graphs,	 Â Erdos-Â­â€Renyi)	 Â saCsfy	 Â í µí»¼>1	 Â 	 Â 

46

Our contributions: accuracy analysis

â€¢â€¯ Node	 Â diï¬€erenCally	 Â private	 Â algorithms	 Â for	 Â releasing	 Â 	 Â 

â€“â€¯ number	 Â of	 Â edges	 Â 

â€¦

â€“â€¯ counts	 Â of	 Â small	 Â subgraphs	 Â 	 Â 

â€¦

	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â 	 Â (e.g.,	 Â triangles,	 Â í µí²Œ-Â­â€triangles,	 Â í µí²Œ-Â­â€stars)	 Â 

â€“â€¯ degree	 Â distribuCon	 Â 

â€¢â€¯ Accuracy	 Â analysis	 Â of	 Â our	 Â algorithms	 Â for	 Â graphs	 Â with	 Â not-Â­â€too-Â­â€
heavy-Â­â€tailed	 Â degree	 Â distribuCon:	 Â with	 Â í µí¼¶-Â­â€decay	 Â for	 Â constant	 Â í µí»¼>1	 Â 

A	 Â graph	 Â G	 Â saCsï¬es	 Â 	 Â í µí¼¶-Â­â€decay	 Â if	 Â for	 Â all	 Â í µí±¡>1:	 Â 	 Â 	 Â 	 Â í µí±ƒ(í µí±¡â‹…â€‹í µí±‘âŸ)â‰¤â€‹í µí±¡â†‘âˆ’í µí»¼âŸ	 Â 	 Â 

â€“â€¯ number	 Â of	 Â edges	 Â 

â€“â€¯ counts	 Â of	 Â small	 Â subgraphs	 Â 	 Â 

(1+o(1))-approximation

	 Â 	 Â 	 Â 	 Â 	 Â (e.g.,	 Â triangles,	 Â í µí²Œ-Â­â€triangles,	 Â í µí²Œ-Â­â€stars)	 Â 

â€“â€¯ degree	 Â distribuCon	 Â  }	 Â 	 Â â€‹â€–â€‹í µí°€â†“í µí»œ,í µí»‚âŸ(í µí°†)âˆ’í µí°ƒí µí°í µí° í µí°ƒí µí°¢í µí°¬í µí°­í µí°«í µí°¢í µí°›(í µí°†)â€–â†“í µí¿âŸ=í µí°¨(í µí¿)

47

